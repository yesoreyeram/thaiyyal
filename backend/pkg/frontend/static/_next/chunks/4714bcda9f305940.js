(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,a)=>{"use strict";var n=e.r(71645),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,r=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!o(e,a)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),n=i({inst:{value:a,getSnapshot:t}}),o=n[0].inst,u=n[1];return s(function(){o.value=a,o.getSnapshot=t,d(o)&&u({inst:o})},[e,a,t]),r(function(){return d(o)&&u({inst:o}),e(function(){d(o)&&u({inst:o})})},[e]),l(a),a};a.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2239,(e,t,a)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,a)=>{"use strict";var n=e.r(71645),o=e.r(2239),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=o.useSyncExternalStore,s=n.useRef,l=n.useEffect,d=n.useMemo,u=n.useDebugValue;a.useSyncExternalStoreWithSelector=function(e,t,a,n,o){var c=s(null);if(null===c.current){var p={hasValue:!1,value:null};c.current=p}else p=c.current;var g=r(e,(c=d(function(){function e(e){if(!l){if(l=!0,r=e,e=n(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(r,e))return t;var a=n(e);return void 0!==o&&o(t,a)?(r=e,t):(r=e,s=a)}var r,s,l=!1,d=void 0===a?null:a;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,a,n,o]))[0],c[1]);return l(function(){p.hasValue=!0,p.value=g},[g]),u(g),g}},30224,(e,t,a)=>{"use strict";t.exports=e.r(52822)},2646,e=>{"use strict";var t,a,n,o,i,r,s,l,d,u,c,p,g,h,m,x=e.i(43476),y=e.i(71645);function f(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let a=0,n;a<e.length;a++)""!==(n=f(e[a]))&&(t+=(t&&" ")+n);else for(let a in e)e[a]&&(t+=(t&&" ")+a);return t}e.i(47167);var b=e.i(30224);let v={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},w=e=>{let t,a=new Set,n=(e,n)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=n?n:"object"!=typeof o||null===o)?o:Object.assign({},t,o),a.forEach(a=>a(t,e))}},o=()=>t,i={setState:n,getState:o,getInitialState:()=>r,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{(v.env?v.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},r=t=e(n,o,i);return i},{useDebugValue:N}=y.default,{useSyncExternalStoreWithSelector:S}=b.default,C=e=>e;function _(e,t=C,a){let n=S(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return N(n),n}let j=(e,t)=>{let a=e?w(e):w,n=(e,n=t)=>_(a,e,n);return Object.assign(n,a),n};function k(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[a,n]of e)if(!Object.is(n,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let a of e)if(!t.has(a))return!1;return!0}let a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(let n of a)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var I={value:()=>{}};function E(){for(var e,t=0,a=arguments.length,n={};t<a;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw Error("illegal type: "+e);n[e]=[]}return new M(n)}function M(e){this._=e}function z(e,t,a){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=I,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=a&&e.push({name:t,value:a}),e}function R(){}function A(e){return null==e?R:function(){return this.querySelector(e)}}function T(){return[]}function P(e){return null==e?T:function(){return this.querySelectorAll(e)}}function O(e){return function(){return this.matches(e)}}function D(e){return function(t){return t.matches(e)}}M.prototype=E.prototype={constructor:M,on:function(e,t){var a,n=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",a=e.indexOf(".");if(a>=0&&(t=e.slice(a+1),e=e.slice(0,a)),e&&!n.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,r=o.length;if(arguments.length<2){for(;++i<r;)if((a=(e=o[i]).type)&&(a=function(e,t){for(var a,n=0,o=e.length;n<o;++n)if((a=e[n]).name===t)return a.value}(n[a],e.name)))return a;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<r;)if(a=(e=o[i]).type)n[a]=z(n[a],e.name,t);else if(null==t)for(a in n)n[a]=z(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var a in t)e[a]=t[a].slice();return new M(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var a,n,o=Array(a),i=0;i<a;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,o)},apply:function(e,t,a){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,a)}};var L=Array.prototype.find;function $(){return this.firstElementChild}var B=Array.prototype.filter;function V(){return Array.from(this.children)}function H(e){return Array(e.length)}function F(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function q(e,t,a,n,o,i){for(var r,s=0,l=t.length,d=i.length;s<d;++s)(r=t[s])?(r.__data__=i[s],n[s]=r):a[s]=new F(e,i[s]);for(;s<l;++s)(r=t[s])&&(o[s]=r)}function X(e,t,a,n,o,i,r){var s,l,d,u=new Map,c=t.length,p=i.length,g=Array(c);for(s=0;s<c;++s)(l=t[s])&&(g[s]=d=r.call(l,l.__data__,s,t)+"",u.has(d)?o[s]=l:u.set(d,l));for(s=0;s<p;++s)d=r.call(e,i[s],s,i)+"",(l=u.get(d))?(n[s]=l,l.__data__=i[s],u.delete(d)):a[s]=new F(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(g[s])===l&&(o[s]=l)}function U(e){return e.__data__}function W(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}F.prototype={constructor:F,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Y="http://www.w3.org/1999/xhtml";let Z={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G(e){var t=e+="",a=t.indexOf(":");return a>=0&&"xmlns"!==(t=e.slice(0,a))&&(e=e.slice(a+1)),Z.hasOwnProperty(t)?{space:Z[t],local:e}:e}function K(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function J(e,t){return e.style.getPropertyValue(t)||K(e).getComputedStyle(e,null).getPropertyValue(t)}function Q(e){return e.trim().split(/^|\s+/)}function ee(e){return e.classList||new et(e)}function et(e){this._node=e,this._names=Q(e.getAttribute("class")||"")}function ea(e,t){for(var a=ee(e),n=-1,o=t.length;++n<o;)a.add(t[n])}function en(e,t){for(var a=ee(e),n=-1,o=t.length;++n<o;)a.remove(t[n])}function eo(){this.textContent=""}function ei(){this.innerHTML=""}function er(){this.nextSibling&&this.parentNode.appendChild(this)}function es(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function el(e){var t=G(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,a=this.namespaceURI;return a===Y&&t.documentElement.namespaceURI===Y?t.createElement(e):t.createElementNS(a,e)}})(t)}function ed(){return null}function eu(){var e=this.parentNode;e&&e.removeChild(this)}function ec(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eg(e){return function(){var t=this.__on;if(t){for(var a,n=0,o=-1,i=t.length;n<i;++n)(a=t[n],e.type&&a.type!==e.type||a.name!==e.name)?t[++o]=a:this.removeEventListener(a.type,a.listener,a.options);++o?t.length=o:delete this.__on}}}function eh(e,t,a){return function(){var n,o=this.__on,i=function(e){t.call(this,e,this.__data__)};if(o){for(var r=0,s=o.length;r<s;++r)if((n=o[r]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=a),n.value=t;return}}this.addEventListener(e.type,i,a),n={type:e.type,name:e.name,value:t,listener:i,options:a},o?o.push(n):this.__on=[n]}}function em(e,t,a){var n=K(e),o=n.CustomEvent;"function"==typeof o?o=new o(t,a):(o=n.document.createEvent("Event"),a?(o.initEvent(t,a.bubbles,a.cancelable),o.detail=a.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}et.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ex=[null];function ey(e,t){this._groups=e,this._parents=t}function ef(){return new ey([[document.documentElement]],ex)}function eb(e){return"string"==typeof e?new ey([[document.querySelector(e)]],[document.documentElement]):new ey([[e]],ex)}ey.prototype=ef.prototype={constructor:ey,select:function(e){"function"!=typeof e&&(e=A(e));for(var t=this._groups,a=t.length,n=Array(a),o=0;o<a;++o)for(var i,r,s=t[o],l=s.length,d=n[o]=Array(l),u=0;u<l;++u)(i=s[u])&&(r=e.call(i,i.__data__,u,s))&&("__data__"in i&&(r.__data__=i.__data__),d[u]=r);return new ey(n,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=P(e);for(var a=this._groups,n=a.length,o=[],i=[],r=0;r<n;++r)for(var s,l=a[r],d=l.length,u=0;u<d;++u)(s=l[u])&&(o.push(e.call(s,s.__data__,u,l)),i.push(s));return new ey(o,i)},selectChild:function(e){var t;return this.select(null==e?$:(t="function"==typeof e?e:D(e),function(){return L.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?V:(t="function"==typeof e?e:D(e),function(){return B.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=O(e));for(var t=this._groups,a=t.length,n=Array(a),o=0;o<a;++o)for(var i,r=t[o],s=r.length,l=n[o]=[],d=0;d<s;++d)(i=r[d])&&e.call(i,i.__data__,d,r)&&l.push(i);return new ey(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,U);var a=t?X:q,n=this._parents,o=this._groups;"function"!=typeof e&&(f=e,e=function(){return f});for(var i=o.length,r=Array(i),s=Array(i),l=Array(i),d=0;d<i;++d){var u=n[d],c=o[d],p=c.length,g="object"==typeof(y=e.call(u,u&&u.__data__,d,n))&&"length"in y?y:Array.from(y),h=g.length,m=s[d]=Array(h),x=r[d]=Array(h);a(u,c,m,x,l[d]=Array(p),g,t);for(var y,f,b,v,w=0,N=0;w<h;++w)if(b=m[w]){for(w>=N&&(N=w+1);!(v=x[N])&&++N<h;);b._next=v||null}}return(r=new ey(r,n))._enter=s,r._exit=l,r},enter:function(){return new ey(this._enter||this._groups.map(H),this._parents)},exit:function(){return new ey(this._exit||this._groups.map(H),this._parents)},join:function(e,t,a){var n=this.enter(),o=this,i=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==a?i.remove():a(i),n&&o?n.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,a=this._groups,n=t._groups,o=a.length,i=n.length,r=Math.min(o,i),s=Array(o),l=0;l<r;++l)for(var d,u=a[l],c=n[l],p=u.length,g=s[l]=Array(p),h=0;h<p;++h)(d=u[h]||c[h])&&(g[h]=d);for(;l<o;++l)s[l]=a[l];return new ey(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,a=e.length;++t<a;)for(var n,o=e[t],i=o.length-1,r=o[i];--i>=0;)(n=o[i])&&(r&&4^n.compareDocumentPosition(r)&&r.parentNode.insertBefore(n,r),r=n);return this},sort:function(e){function t(t,a){return t&&a?e(t.__data__,a.__data__):!t-!a}e||(e=W);for(var a=this._groups,n=a.length,o=Array(n),i=0;i<n;++i){for(var r,s=a[i],l=s.length,d=o[i]=Array(l),u=0;u<l;++u)(r=s[u])&&(d[u]=r);d.sort(t)}return new ey(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var r=n[o];if(r)return r}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,n=t.length;a<n;++a)for(var o,i=t[a],r=0,s=i.length;r<s;++r)(o=i[r])&&e.call(o,o.__data__,r,i);return this},attr:function(e,t){var a=G(e);if(arguments.length<2){var n=this.node();return a.local?n.getAttributeNS(a.space,a.local):n.getAttribute(a)}return this.each((null==t?a.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?a.local?function(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}:function(e,t){return function(){var a=t.apply(this,arguments);null==a?this.removeAttribute(e):this.setAttribute(e,a)}}:a.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(a,t))},style:function(e,t,a){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,a){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,a)}}:function(e,t,a){return function(){this.style.setProperty(e,t,a)}})(e,t,null==a?"":a)):J(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var a=t.apply(this,arguments);null==a?delete this[e]:this[e]=a}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var a=Q(e+"");if(arguments.length<2){for(var n=ee(this.node()),o=-1,i=a.length;++o<i;)if(!n.contains(a[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?ea:en)(this,e)}}:t?function(e){return function(){ea(this,e)}}:function(e){return function(){en(this,e)}})(a,t))},text:function(e){return arguments.length?this.each(null==e?eo:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ei:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(er)},lower:function(){return this.each(es)},append:function(e){var t="function"==typeof e?e:el(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var a="function"==typeof e?e:el(e),n=null==t?ed:"function"==typeof t?t:A(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(eu)},clone:function(e){return this.select(e?ep:ec)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,a){var n,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",a=e.indexOf(".");return a>=0&&(t=e.slice(a+1),e=e.slice(0,a)),{type:e,name:t}}),r=i.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,d=0,u=s.length;d<u;++d)for(n=0,l=s[d];n<r;++n)if((o=i[n]).type===l.type&&o.name===l.name)return l.value}return}for(n=0,s=t?eh:eg;n<r;++n)this.each(s(i[n],t,a));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return em(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return em(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var n,o=e[t],i=0,r=o.length;i<r;++i)(n=o[i])&&(yield n)}};let ev={passive:!1},ew={capture:!0,passive:!1};function eN(e){e.stopImmediatePropagation()}function eS(e){e.preventDefault(),e.stopImmediatePropagation()}function eC(e){var t=e.document.documentElement,a=eb(e).on("dragstart.drag",eS,ew);"onselectstart"in t?a.on("selectstart.drag",eS,ew):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function e_(e,t){var a=e.document.documentElement,n=eb(e).on("dragstart.drag",null);t&&(n.on("click.drag",eS,ew),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in a?n.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function ej(e){return((e=Math.exp(e))+1/e)/2}let ek=function e(t,a,n){function o(e,o){var i,r,s=e[0],l=e[1],d=e[2],u=o[0],c=o[1],p=o[2],g=u-s,h=c-l,m=g*g+h*h;if(m<1e-12)r=Math.log(p/d)/t,i=function(e){return[s+e*g,l+e*h,d*Math.exp(t*e*r)]};else{var x=Math.sqrt(m),y=(p*p-d*d+n*m)/(2*d*a*x),f=(p*p-d*d-n*m)/(2*p*a*x),b=Math.log(Math.sqrt(y*y+1)-y);r=(Math.log(Math.sqrt(f*f+1)-f)-b)/t,i=function(e){var n,o,i=e*r,u=ej(b),c=d/(a*x)*(u*(((n=Math.exp(2*(n=t*i+b)))-1)/(n+1))-((o=Math.exp(o=b))-1/o)/2);return[s+c*g,l+c*h,d*u/ej(t*i+b)]}}return i.duration=1e3*r*t/Math.SQRT2,i}return o.rho=function(t){var a=Math.max(.001,+t),n=a*a;return e(a,n,n*n)},o}(Math.SQRT2,2,4);function eI(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var a=t.ownerSVGElement||t;if(a.createSVGPoint){var n=a.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var eE,eM,ez=0,eR=0,eA=0,eT=0,eP=0,eO=0,eD="object"==typeof performance&&performance.now?performance:Date,eL="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function e$(){return eP||(eL(eB),eP=eD.now()+eO)}function eB(){eP=0}function eV(){this._call=this._time=this._next=null}function eH(e,t,a){var n=new eV;return n.restart(e,t,a),n}function eF(){eP=(eT=eD.now())+eO,ez=eR=0;try{e$(),++ez;for(var e,t=eE;t;)(e=eP-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ez}finally{ez=0,function(){for(var e,t,a=eE,n=1/0;a;)a._call?(n>a._time&&(n=a._time),e=a,a=a._next):(t=a._next,a._next=null,a=e?e._next=t:eE=t);eM=e,eX(n)}(),eP=0}}function eq(){var e=eD.now(),t=e-eT;t>1e3&&(eO-=t,eT=e)}function eX(e){!ez&&(eR&&(eR=clearTimeout(eR)),e-eP>24?(e<1/0&&(eR=setTimeout(eF,e-eD.now()-eO)),eA&&(eA=clearInterval(eA))):(eA||(eT=eD.now(),eA=setInterval(eq,1e3)),ez=1,eL(eF)))}function eU(e,t,a){var n=new eV;return t=null==t?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,a),n}eV.prototype=eH.prototype={constructor:eV,restart:function(e,t,a){if("function"!=typeof e)throw TypeError("callback is not a function");a=(null==a?e$():+a)+(null==t?0:+t),this._next||eM===this||(eM?eM._next=this:eE=this,eM=this),this._call=e,this._time=a,eX()},stop:function(){this._call&&(this._call=null,this._time=1/0,eX())}};var eW=E("start","end","cancel","interrupt"),eY=[];function eZ(e,t,a,n,o,i){var r=e.__transition;if(r){if(a in r)return}else e.__transition={};!function(e,t,a){var n,o=e.__transition;function i(l){var d,u,c,p;if(1!==a.state)return s();for(d in o)if((p=o[d]).name===a.name){if(3===p.state)return eU(i);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[d]):+d<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[d])}if(eU(function(){3===a.state&&(a.state=4,a.timer.restart(r,a.delay,a.time),r(l))}),a.state=2,a.on.call("start",e,e.__data__,a.index,a.group),2===a.state){for(d=0,a.state=3,n=Array(c=a.tween.length),u=-1;d<c;++d)(p=a.tween[d].value.call(e,e.__data__,a.index,a.group))&&(n[++u]=p);n.length=u+1}}function r(t){for(var o=t<a.duration?a.ease.call(null,t/a.duration):(a.timer.restart(s),a.state=5,1),i=-1,r=n.length;++i<r;)n[i].call(e,o);5===a.state&&(a.on.call("end",e,e.__data__,a.index,a.group),s())}function s(){for(var n in a.state=6,a.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=a,a.timer=eH(function(e){a.state=1,a.timer.restart(i,a.delay,a.time),a.delay<=e&&i(e-a.delay)},0,a.time)}(e,a,{name:t,index:n,group:o,on:eW,tween:eY,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function eG(e,t){var a=eJ(e,t);if(a.state>0)throw Error("too late; already scheduled");return a}function eK(e,t){var a=eJ(e,t);if(a.state>3)throw Error("too late; already running");return a}function eJ(e,t){var a=e.__transition;if(!a||!(a=a[t]))throw Error("transition not found");return a}function eQ(e,t){var a,n,o,i=e.__transition,r=!0;if(i){for(o in t=null==t?null:t+"",i){if((a=i[o]).name!==t){r=!1;continue}n=a.state>2&&a.state<5,a.state=6,a.timer.stop(),a.on.call(n?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete i[o]}r&&delete e.__transition}}function e0(e,t){return e*=1,t*=1,function(a){return e*(1-a)+t*a}}var e1=180/Math.PI,e2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e5(e,t,a,n,o,i){var r,s,l;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(l=e*a+t*n)&&(a-=e*l,n-=t*l),(s=Math.sqrt(a*a+n*n))&&(a/=s,n/=s,l/=s),e*n<t*a&&(e=-e,t=-t,l=-l,r=-r),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*e1,skewX:Math.atan(l)*e1,scaleX:r,scaleY:s}}function e4(e,t,a,n){function o(e){return e.length?e.pop()+" ":""}return function(i,r){var s,l,d,u,c=[],p=[];return i=e(i),r=e(r),!function(e,n,o,i,r,s){if(e!==o||n!==i){var l=r.push("translate(",null,t,null,a);s.push({i:l-4,x:e0(e,o)},{i:l-2,x:e0(n,i)})}else(o||i)&&r.push("translate("+o+t+i+a)}(i.translateX,i.translateY,r.translateX,r.translateY,c,p),s=i.rotate,l=r.rotate,s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),p.push({i:c.push(o(c)+"rotate(",null,n)-2,x:e0(s,l)})):l&&c.push(o(c)+"rotate("+l+n),d=i.skewX,u=r.skewX,d!==u?p.push({i:c.push(o(c)+"skewX(",null,n)-2,x:e0(d,u)}):u&&c.push(o(c)+"skewX("+u+n),!function(e,t,a,n,i,r){if(e!==a||t!==n){var s=i.push(o(i)+"scale(",null,",",null,")");r.push({i:s-4,x:e0(e,a)},{i:s-2,x:e0(t,n)})}else(1!==a||1!==n)&&i.push(o(i)+"scale("+a+","+n+")")}(i.scaleX,i.scaleY,r.scaleX,r.scaleY,c,p),i=r=null,function(e){for(var t,a=-1,n=p.length;++a<n;)c[(t=p[a]).i]=t.x(e);return c.join("")}}}e4(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?e2:e5(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)");var e3=e4(function(e){return null==e?e2:(l||(l=document.createElementNS("http://www.w3.org/2000/svg","g")),l.setAttribute("transform",e),e=l.transform.baseVal.consolidate())?e5((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):e2},", ",")",")");function e6(e,t,a){var n=e._id;return e.each(function(){var e=eK(this,n);(e.value||(e.value={}))[t]=a.apply(this,arguments)}),function(e){return eJ(e,n).value[t]}}function e7(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function e8(e,t){var a=Object.create(e.prototype);for(var n in t)a[n]=t[n];return a}function e9(){}var te="\\s*([+-]?\\d+)\\s*",tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tn=/^#([0-9a-f]{3,8})$/,to=RegExp(`^rgb\\(${te},${te},${te}\\)$`),ti=RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),tr=RegExp(`^rgba\\(${te},${te},${te},${tt}\\)$`),ts=RegExp(`^rgba\\(${ta},${ta},${ta},${tt}\\)$`),tl=RegExp(`^hsl\\(${tt},${ta},${ta}\\)$`),td=RegExp(`^hsla\\(${tt},${ta},${ta},${tt}\\)$`),tu={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function tc(){return this.rgb().formatHex()}function tp(){return this.rgb().formatRgb()}function tg(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=tn.exec(e))?(a=t[1].length,t=parseInt(t[1],16),6===a?th(t):3===a?new ty(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===a?tm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===a?tm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=to.exec(e))?new ty(t[1],t[2],t[3],1):(t=ti.exec(e))?new ty(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tr.exec(e))?tm(t[1],t[2],t[3],t[4]):(t=ts.exec(e))?tm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tl.exec(e))?tS(t[1],t[2]/100,t[3]/100,1):(t=td.exec(e))?tS(t[1],t[2]/100,t[3]/100,t[4]):tu.hasOwnProperty(e)?th(tu[e]):"transparent"===e?new ty(NaN,NaN,NaN,0):null}function th(e){return new ty(e>>16&255,e>>8&255,255&e,1)}function tm(e,t,a,n){return n<=0&&(e=t=a=NaN),new ty(e,t,a,n)}function tx(e,t,a,n){var o;return 1==arguments.length?((o=e)instanceof e9||(o=tg(o)),o)?new ty((o=o.rgb()).r,o.g,o.b,o.opacity):new ty:new ty(e,t,a,null==n?1:n)}function ty(e,t,a,n){this.r=+e,this.g=+t,this.b=+a,this.opacity=+n}function tf(){return`#${tN(this.r)}${tN(this.g)}${tN(this.b)}`}function tb(){let e=tv(this.opacity);return`${1===e?"rgb(":"rgba("}${tw(this.r)}, ${tw(this.g)}, ${tw(this.b)}${1===e?")":`, ${e})`}`}function tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tw(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tN(e){return((e=tw(e))<16?"0":"")+e.toString(16)}function tS(e,t,a,n){return n<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new t_(e,t,a,n)}function tC(e){if(e instanceof t_)return new t_(e.h,e.s,e.l,e.opacity);if(e instanceof e9||(e=tg(e)),!e)return new t_;if(e instanceof t_)return e;var t=(e=e.rgb()).r/255,a=e.g/255,n=e.b/255,o=Math.min(t,a,n),i=Math.max(t,a,n),r=NaN,s=i-o,l=(i+o)/2;return s?(r=t===i?(a-n)/s+(a<n)*6:a===i?(n-t)/s+2:(t-a)/s+4,s/=l<.5?i+o:2-i-o,r*=60):s=l>0&&l<1?0:r,new t_(r,s,l,e.opacity)}function t_(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}function tj(e){return(e=(e||0)%360)<0?e+360:e}function tk(e){return Math.max(0,Math.min(1,e||0))}function tI(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}function tE(e,t,a,n,o){var i=e*e,r=i*e;return((1-3*e+3*i-r)*t+(4-6*i+3*r)*a+(1+3*e+3*i-3*r)*n+r*o)/6}e7(e9,tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tc,formatHex:tc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tC(this).formatHsl()},formatRgb:tp,toString:tp}),e7(ty,tx,e8(e9,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new ty(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ty(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ty(tw(this.r),tw(this.g),tw(this.b),tv(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tf,formatHex:tf,formatHex8:function(){return`#${tN(this.r)}${tN(this.g)}${tN(this.b)}${tN((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:tb,toString:tb})),e7(t_,function(e,t,a,n){return 1==arguments.length?tC(e):new t_(e,t,a,null==n?1:n)},e8(e9,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new t_(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new t_(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*t,o=2*a-n;return new ty(tI(e>=240?e-240:e+120,o,n),tI(e,o,n),tI(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new t_(tj(this.h),tk(this.s),tk(this.l),tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tv(this.opacity);return`${1===e?"hsl(":"hsla("}${tj(this.h)}, ${100*tk(this.s)}%, ${100*tk(this.l)}%${1===e?")":`, ${e})`}`}}));let tM=e=>()=>e;function tz(e,t){var a=t-e;return a?function(t){return e+t*a}:tM(isNaN(e)?t:e)}let tR=function e(t){var a,n=1==(a=+t)?tz:function(e,t){var n,o,i;return t-e?(n=e,o=t,n=Math.pow(n,i=a),o=Math.pow(o,i)-n,i=1/i,function(e){return Math.pow(n+e*o,i)}):tM(isNaN(e)?t:e)};function o(e,t){var a=n((e=tx(e)).r,(t=tx(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),r=tz(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=o(t),e.b=i(t),e.opacity=r(t),e+""}}return o.gamma=e,o}(1);function tA(e){return function(t){var a,n,o=t.length,i=Array(o),r=Array(o),s=Array(o);for(a=0;a<o;++a)n=tx(t[a]),i[a]=n.r||0,r[a]=n.g||0,s[a]=n.b||0;return i=e(i),r=e(r),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=r(e),n.b=s(e),n+""}}}tA(function(e){var t=e.length-1;return function(a){var n=a<=0?a=0:a>=1?(a=1,t-1):Math.floor(a*t),o=e[n],i=e[n+1],r=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return tE((a-n/t)*t,r,o,i,s)}}),tA(function(e){var t=e.length;return function(a){var n=Math.floor(((a%=1)<0?++a:a)*t),o=e[(n+t-1)%t],i=e[n%t],r=e[(n+1)%t],s=e[(n+2)%t];return tE((a-n/t)*t,o,i,r,s)}});var tT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tP=RegExp(tT.source,"g");function tO(e,t){var a;return("number"==typeof t?e0:t instanceof tg?tR:(a=tg(t))?(t=a,tR):function(e,t){var a,n,o,i,r,s=tT.lastIndex=tP.lastIndex=0,l=-1,d=[],u=[];for(e+="",t+="";(o=tT.exec(e))&&(i=tP.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),d[l]?d[l]+=r:d[++l]=r),(o=o[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,u.push({i:l,x:e0(o,i)})),s=tP.lastIndex;return s<t.length&&(r=t.slice(s),d[l]?d[l]+=r:d[++l]=r),d.length<2?u[0]?(a=u[0].x,function(e){return a(e)+""}):(n=t,function(){return n}):(t=u.length,function(e){for(var a,n=0;n<t;++n)d[(a=u[n]).i]=a.x(e);return d.join("")})})(e,t)}var tD=ef.prototype.constructor;function tL(e){return function(){this.style.removeProperty(e)}}var t$=0;function tB(e,t,a,n){this._groups=e,this._parents=t,this._name=a,this._id=n}var tV=ef.prototype;tB.prototype=(function(e){return ef().transition(e)}).prototype={constructor:tB,select:function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=A(e));for(var n=this._groups,o=n.length,i=Array(o),r=0;r<o;++r)for(var s,l,d=n[r],u=d.length,c=i[r]=Array(u),p=0;p<u;++p)(s=d[p])&&(l=e.call(s,s.__data__,p,d))&&("__data__"in s&&(l.__data__=s.__data__),c[p]=l,eZ(c[p],t,a,p,c,eJ(s,a)));return new tB(i,this._parents,t,a)},selectAll:function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=P(e));for(var n=this._groups,o=n.length,i=[],r=[],s=0;s<o;++s)for(var l,d=n[s],u=d.length,c=0;c<u;++c)if(l=d[c]){for(var p,g=e.call(l,l.__data__,c,d),h=eJ(l,a),m=0,x=g.length;m<x;++m)(p=g[m])&&eZ(p,t,a,m,g,h);i.push(g),r.push(l)}return new tB(i,r,t,a)},selectChild:tV.selectChild,selectChildren:tV.selectChildren,filter:function(e){"function"!=typeof e&&(e=O(e));for(var t=this._groups,a=t.length,n=Array(a),o=0;o<a;++o)for(var i,r=t[o],s=r.length,l=n[o]=[],d=0;d<s;++d)(i=r[d])&&e.call(i,i.__data__,d,r)&&l.push(i);return new tB(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,a=e._groups,n=t.length,o=a.length,i=Math.min(n,o),r=Array(n),s=0;s<i;++s)for(var l,d=t[s],u=a[s],c=d.length,p=r[s]=Array(c),g=0;g<c;++g)(l=d[g]||u[g])&&(p[g]=l);for(;s<n;++s)r[s]=t[s];return new tB(r,this._parents,this._name,this._id)},selection:function(){return new tD(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,a=++t$,n=this._groups,o=n.length,i=0;i<o;++i)for(var r,s=n[i],l=s.length,d=0;d<l;++d)if(r=s[d]){var u=eJ(r,t);eZ(r,e,a,d,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new tB(n,this._parents,e,a)},call:tV.call,nodes:tV.nodes,node:tV.node,size:tV.size,empty:tV.empty,each:tV.each,on:function(e,t){var a,n,o,i,r,s,l=this._id;return arguments.length<2?eJ(this.node(),l).on.on(e):this.each((a=l,n=e,o=t,s=(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eG:eK,function(){var e=s(this,a),t=e.on;t!==i&&(r=(i=t).copy()).on(n,o),e.on=r}))},attr:function(e,t){var a=G(e),n="transform"===a?e3:tO;return this.attrTween(e,"function"==typeof t?(a.local?function(e,t,a){var n,o,i;return function(){var r,s,l=a(this);return null==l?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:r===n&&s===o?i:(o=s,i=t(n=r,l))}}:function(e,t,a){var n,o,i;return function(){var r,s,l=a(this);return null==l?void this.removeAttribute(e):(r=this.getAttribute(e))===(s=l+"")?null:r===n&&s===o?i:(o=s,i=t(n=r,l))}})(a,n,e6(this,"attr."+e,t)):null==t?(a.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(a):(a.local?function(e,t,a){var n,o,i=a+"";return function(){var r=this.getAttributeNS(e.space,e.local);return r===i?null:r===n?o:o=t(n=r,a)}}:function(e,t,a){var n,o,i=a+"";return function(){var r=this.getAttribute(e);return r===i?null:r===n?o:o=t(n=r,a)}})(a,n,t))},attrTween:function(e,t){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw Error();var n=G(e);return this.tween(a,(n.local?function(e,t){var a,n;function o(){var o=t.apply(this,arguments);return o!==n&&(a=(n=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),a}return o._value=t,o}:function(e,t){var a,n;function o(){var o=t.apply(this,arguments);return o!==n&&(a=(n=o)&&function(t){this.setAttribute(e,o.call(this,t))}),a}return o._value=t,o})(n,t))},style:function(e,t,a){var n,o,i,r,s,l,d,u,c,p,g,h,m,x,y,f,b;return null==t?this.styleTween(e,function(){var t=J(this,e),a=(this.style.removeProperty(e),J(this,e));return t===a?null:t===n&&a===o?i:i=tO(n=t,o=a)}).on("end.style."+e,tL(e)):"function"==typeof t?this.styleTween(e,(r=e6(this,"style."+e,t),function(){var t=J(this,e),a=r(this),n=a+"";return null==a&&(this.style.removeProperty(e),n=a=J(this,e)),t===n?null:t===s&&n===l?d:(l=n,d=tO(s=t,a))})).each((u=this._id,x="end."+(m="style."+e),function(){var t=eK(this,u),a=t.on,n=null==t.value[m]?h||(h=tL(e)):void 0;(a!==c||g!==n)&&(p=(c=a).copy()).on(x,g=n),t.on=p})):this.styleTween(e,(b=t+"",function(){var a=J(this,e);return a===b?null:a===y?f:f=tO(y=a,t)}),a).on("end.style."+e,null)},styleTween:function(e,t,a){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();return this.tween(n,function(e,t,a){var n,o;function i(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),a)}),n}return i._value=t,i}(e,t,null==a?"":a))},text:function(e){var t,a;return this.tween("text","function"==typeof e?(t=e6(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(a=null==e?"":e+"",function(){this.textContent=a}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,a;function n(){var n=e.apply(this,arguments);return n!==a&&(t=(a=n)&&function(e){this.textContent=n.call(this,e)}),t}return n._value=e,n}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var a in this.__transition)if(+a!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var a=this._id;if(e+="",arguments.length<2){for(var n,o=eJ(this.node(),a).tween,i=0,r=o.length;i<r;++i)if((n=o[i]).name===e)return n.value;return null}return this.each((null==t?function(e,t){var a,n;return function(){var o=eK(this,e),i=o.tween;if(i!==a){n=a=i;for(var r=0,s=n.length;r<s;++r)if(n[r].name===t){(n=n.slice()).splice(r,1);break}}o.tween=n}}:function(e,t,a){var n,o;if("function"!=typeof a)throw Error();return function(){var i=eK(this,e),r=i.tween;if(r!==n){o=(n=r).slice();for(var s={name:t,value:a},l=0,d=o.length;l<d;++l)if(o[l].name===t){o[l]=s;break}l===d&&o.push(s)}i.tween=o}})(a,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eG(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eG(this,e).delay=t}})(t,e)):eJ(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eK(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eK(this,e).duration=t}})(t,e)):eJ(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eK(this,e).ease=t}}(t,e)):eJ(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var a=e.apply(this,arguments);if("function"!=typeof a)throw Error();eK(this,t).ease=a}))},end:function(){var e,t,a=this,n=a._id,o=a.size();return new Promise(function(i,r){var s={value:r},l={value:function(){0==--o&&i()}};a.each(function(){var a=eK(this,n),o=a.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),a.on=t}),0===o&&i()})},[Symbol.iterator]:tV[Symbol.iterator]};var tH={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};ef.prototype.interrupt=function(e){return this.each(function(){eQ(this,e)})},ef.prototype.transition=function(e){var t,a;e instanceof tB?(t=e._id,e=e._name):(t=++t$,(a=tH).time=e$(),e=null==e?null:e+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var r,s=n[i],l=s.length,d=0;d<l;++d)(r=s[d])&&eZ(r,e,t,d,s,a||function(e,t){for(var a;!(a=e.__transition)||!(a=a[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return a}(r,t));return new tB(n,this._parents,e,t)};let tF=e=>()=>e;function tq(e,{sourceEvent:t,target:a,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function tX(e,t,a){this.k=e,this.x=t,this.y=a}tX.prototype={constructor:tX,scale:function(e){return 1===e?this:new tX(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tX(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tU=new tX(1,0,0);function tW(e){e.stopImmediatePropagation()}function tY(e){e.preventDefault(),e.stopImmediatePropagation()}function tZ(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tG(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tK(){return this.__zoom||tU}function tJ(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function t0(e,t,a){var n=e.invertX(t[0][0])-a[0][0],o=e.invertX(t[1][0])-a[1][0],i=e.invertY(t[0][1])-a[0][1],r=e.invertY(t[1][1])-a[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}tX.prototype;let t1=e=>()=>e;function t2(e,{sourceEvent:t,subject:a,target:n,identifier:o,active:i,x:r,y:s,dx:l,dy:d,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}function t5(e){return!e.ctrlKey&&!e.button}function t4(){return this.parentNode}function t3(e,t){return null==t?{x:e.x,y:e.y}:t}function t6(){return navigator.maxTouchPoints||"ontouchstart"in this}function t7(){var e,t,a,n,o=t5,i=t4,r=t3,s=t6,l={},d=E("start","drag","end"),u=0,c=0;function p(e){e.on("mousedown.drag",g).filter(s).on("touchstart.drag",x).on("touchmove.drag",y,ev).on("touchend.drag touchcancel.drag",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(r,s){if(!n&&o.call(this,r,s)){var l=b(this,i.call(this,r,s),r,s,"mouse");l&&(eb(r.view).on("mousemove.drag",h,ew).on("mouseup.drag",m,ew),eC(r.view),eN(r),a=!1,e=r.clientX,t=r.clientY,l("start",r))}}function h(n){if(eS(n),!a){var o=n.clientX-e,i=n.clientY-t;a=o*o+i*i>c}l.mouse("drag",n)}function m(e){eb(e.view).on("mousemove.drag mouseup.drag",null),e_(e.view,a),eS(e),l.mouse("end",e)}function x(e,t){if(o.call(this,e,t)){var a,n,r=e.changedTouches,s=i.call(this,e,t),l=r.length;for(a=0;a<l;++a)(n=b(this,s,e,t,r[a].identifier,r[a]))&&(eN(e),n("start",e,r[a]))}}function y(e){var t,a,n=e.changedTouches,o=n.length;for(t=0;t<o;++t)(a=l[n[t].identifier])&&(eS(e),a("drag",e,n[t]))}function f(e){var t,a,o=e.changedTouches,i=o.length;for(n&&clearTimeout(n),n=setTimeout(function(){n=null},500),t=0;t<i;++t)(a=l[o[t].identifier])&&(eN(e),a("end",e,o[t]))}function b(e,t,a,n,o,i){var s,c,g,h=d.copy(),m=eI(i||a,t);if(null!=(g=r.call(e,new t2("beforestart",{sourceEvent:a,target:p,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:h}),n)))return s=g.x-m[0]||0,c=g.y-m[1]||0,function a(i,r,d){var x,y=m;switch(i){case"start":l[o]=a,x=u++;break;case"end":delete l[o],--u;case"drag":m=eI(d||r,t),x=u}h.call(i,e,new t2(i,{sourceEvent:r,subject:g,target:p,identifier:o,active:x,x:m[0]+s,y:m[1]+c,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:h}),n)}}return p.filter=function(e){return arguments.length?(o="function"==typeof e?e:t1(!!e),p):o},p.container=function(e){return arguments.length?(i="function"==typeof e?e:t1(e),p):i},p.subject=function(e){return arguments.length?(r="function"==typeof e?e:t1(e),p):r},p.touchable=function(e){return arguments.length?(s="function"==typeof e?e:t1(!!e),p):s},p.on=function(){var e=d.on.apply(d,arguments);return e===d?p:e},p.clickDistance=function(e){return arguments.length?(c=(e*=1)*e,p):Math.sqrt(c)},p}t2.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var t8=e.i(74080);let t9=(0,y.createContext)(null),ae=t9.Provider,at="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function aa(e,t){let a=(0,y.useContext)(t9);if(null===a)throw Error(at);return _(a,e,t)}let an=()=>{let e=(0,y.useContext)(t9);if(null===e)throw Error(at);return(0,y.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},ao=e=>e.userSelectionActive?"none":"all";function ai({position:e,children:t,className:a,style:n,...o}){let i=aa(ao),r=`${e}`.split("-");return y.default.createElement("div",{className:f(["react-flow__panel",a,...r]),style:{...n,pointerEvents:i},...o},t)}function ar({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:y.default.createElement(ai,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},y.default.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var as=(0,y.memo)(({x:e,y:t,label:a,labelStyle:n={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:r=[2,4],labelBgBorderRadius:s=2,children:l,className:d,...u})=>{let c=(0,y.useRef)(null),[p,g]=(0,y.useState)({x:0,y:0,width:0,height:0}),h=f(["react-flow__edge-textwrapper",d]);return((0,y.useEffect)(()=>{if(c.current){let e=c.current.getBBox();g({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),void 0!==a&&a)?y.default.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:h,visibility:p.width?"visible":"hidden",...u},o&&y.default.createElement("rect",{width:p.width+2*r[0],x:-r[0],y:-r[1],height:p.height+2*r[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),y.default.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:c,style:n},a),l):null});let al=e=>({width:e.offsetWidth,height:e.offsetHeight}),ad=(e,t=0,a=1)=>Math.min(Math.max(e,t),a),au=(e={x:0,y:0},t)=>({x:ad(e.x,t[0][0],t[1][0]),y:ad(e.y,t[0][1],t[1][1])}),ac=(e,t,a)=>e<t?ad(Math.abs(e-t),1,50)/50:e>a?-ad(Math.abs(e-a),1,50)/50:0,ap=(e,t)=>[20*ac(e.x,35,t.width-35),20*ac(e.y,35,t.height-35)],ag=e=>e.getRootNode?.()||window?.document,ah=({x:e,y:t,width:a,height:n})=>({x:e,y:t,x2:e+a,y2:t+n}),am=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ax=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),ay=e=>!isNaN(e)&&isFinite(e),af=Symbol.for("internals"),ab=["Enter"," ","Escape"],av=(e,t)=>{};function aw(e){let t="nativeEvent"in e?e.nativeEvent:e,a=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(a?.nodeName)||a?.hasAttribute("contenteditable")||!!a?.closest(".nokey")}let aN=(e,t)=>{let a="clientX"in e,n=a?e.clientX:e.touches?.[0].clientX,o=a?e.clientY:e.touches?.[0].clientY;return{x:n-(t?.left??0),y:o-(t?.top??0)}},aS=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,aC=({id:e,path:t,labelX:a,labelY:n,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d,style:u,markerEnd:c,markerStart:p,interactionWidth:g=20})=>y.default.createElement(y.default.Fragment,null,y.default.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:p}),g&&y.default.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&ay(a)&&ay(n)?y.default.createElement(as,{x:a,y:n,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d}):null);function a_(e,t,a){return void 0===a?a:n=>{let o=t().edges.find(t=>t.id===e);o&&a(n,{...o})}}function aj({sourceX:e,sourceY:t,targetX:a,targetY:n}){let o=Math.abs(a-e)/2,i=Math.abs(n-t)/2;return[a<e?a+o:a-o,n<t?n+i:n-i,o,i]}function ak({sourceX:e,sourceY:t,targetX:a,targetY:n,sourceControlX:o,sourceControlY:i,targetControlX:r,targetControlY:s}){let l=.125*e+.375*o+.375*r+.125*a,d=.125*t+.375*i+.375*s+.125*n,u=Math.abs(l-e),c=Math.abs(d-t);return[l,d,u,c]}function aI({pos:e,x1:t,y1:a,x2:n,y2:o}){return e===h.Left||e===h.Right?[.5*(t+n),a]:[t,.5*(a+o)]}function aE({sourceX:e,sourceY:t,sourcePosition:a=h.Bottom,targetX:n,targetY:o,targetPosition:i=h.Top}){let[r,s]=aI({pos:a,x1:e,y1:t,x2:n,y2:o}),[l,d]=aI({pos:i,x1:n,y1:o,x2:e,y2:t}),[u,c,p,g]=ak({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:l,targetControlY:d});return[`M${e},${t} C${r},${s} ${l},${d} ${n},${o}`,u,c,p,g]}aC.displayName="BaseEdge",(t=d||(d={})).Strict="strict",t.Loose="loose",(a=u||(u={})).Free="free",a.Vertical="vertical",a.Horizontal="horizontal",(n=c||(c={})).Partial="partial",n.Full="full",(o=p||(p={})).Bezier="default",o.Straight="straight",o.Step="step",o.SmoothStep="smoothstep",o.SimpleBezier="simplebezier",(i=g||(g={})).Arrow="arrow",i.ArrowClosed="arrowclosed",(r=h||(h={})).Left="left",r.Top="top",r.Right="right",r.Bottom="bottom";let aM=(0,y.memo)(({sourceX:e,sourceY:t,targetX:a,targetY:n,sourcePosition:o=h.Bottom,targetPosition:i=h.Top,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:c,style:p,markerEnd:g,markerStart:m,interactionWidth:x})=>{let[f,b,v]=aE({sourceX:e,sourceY:t,sourcePosition:o,targetX:a,targetY:n,targetPosition:i});return y.default.createElement(aC,{path:f,labelX:b,labelY:v,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:c,style:p,markerEnd:g,markerStart:m,interactionWidth:x})});aM.displayName="SimpleBezierEdge";let az={[h.Left]:{x:-1,y:0},[h.Right]:{x:1,y:0},[h.Top]:{x:0,y:-1},[h.Bottom]:{x:0,y:1}},aR=({source:e,sourcePosition:t=h.Bottom,target:a})=>t===h.Left||t===h.Right?e.x<a.x?{x:1,y:0}:{x:-1,y:0}:e.y<a.y?{x:0,y:1}:{x:0,y:-1},aA=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function aT({sourceX:e,sourceY:t,sourcePosition:a=h.Bottom,targetX:n,targetY:o,targetPosition:i=h.Top,borderRadius:r=5,centerX:s,centerY:l,offset:d=20}){let[u,c,p,g,m]=function({source:e,sourcePosition:t=h.Bottom,target:a,targetPosition:n=h.Top,center:o,offset:i}){let r,s,l=az[t],d=az[n],u={x:e.x+l.x*i,y:e.y+l.y*i},c={x:a.x+d.x*i,y:a.y+d.y*i},p=aR({source:u,sourcePosition:t,target:c}),g=0!==p.x?"x":"y",m=p[g],x=[],y={x:0,y:0},f={x:0,y:0},[b,v,w,N]=aj({sourceX:e.x,sourceY:e.y,targetX:a.x,targetY:a.y});if(l[g]*d[g]==-1){r=o.x??b,s=o.y??v;let e=[{x:r,y:u.y},{x:r,y:c.y}],t=[{x:u.x,y:s},{x:c.x,y:s}];x=l[g]===m?"x"===g?e:t:"x"===g?t:e}else{let o=[{x:u.x,y:c.y}],p=[{x:c.x,y:u.y}];if(x="x"===g?l.x===m?p:o:l.y===m?o:p,t===n){let t=Math.abs(e[g]-a[g]);if(t<=i){let n=Math.min(i-1,i-t);l[g]===m?y[g]=(u[g]>e[g]?-1:1)*n:f[g]=(c[g]>a[g]?-1:1)*n}}if(t!==n){let e="x"===g?"y":"x",t=l[g]===d[e],a=u[e]>c[e],n=u[e]<c[e];(1===l[g]&&(!t&&a||t&&n)||1!==l[g]&&(!t&&n||t&&a))&&(x="x"===g?o:p)}let h={x:u.x+y.x,y:u.y+y.y},b={x:c.x+f.x,y:c.y+f.y};Math.max(Math.abs(h.x-x[0].x),Math.abs(b.x-x[0].x))>=Math.max(Math.abs(h.y-x[0].y),Math.abs(b.y-x[0].y))?(r=(h.x+b.x)/2,s=x[0].y):(r=x[0].x,s=(h.y+b.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...x,{x:c.x+f.x,y:c.y+f.y},a],r,s,w,N]}({source:{x:e,y:t},sourcePosition:a,target:{x:n,y:o},targetPosition:i,center:{x:s,y:l},offset:d});return[u.reduce((e,t,a)=>e+(a>0&&a<u.length-1?function(e,t,a,n){let o=Math.min(aA(e,t)/2,aA(t,a)/2,n),{x:i,y:r}=t;if(e.x===i&&i===a.x||e.y===r&&r===a.y)return`L${i} ${r}`;if(e.y===r){let t=e.x<a.x?-1:1,n=e.y<a.y?1:-1;return`L ${i+o*t},${r}Q ${i},${r} ${i},${r+o*n}`}let s=e.x<a.x?1:-1,l=e.y<a.y?-1:1;return`L ${i},${r+o*l}Q ${i},${r} ${i+o*s},${r}`}(u[a-1],t,u[a+1],r):`${0===a?"M":"L"}${t.x} ${t.y}`),""),c,p,g,m]}let aP=(0,y.memo)(({sourceX:e,sourceY:t,targetX:a,targetY:n,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d,style:u,sourcePosition:c=h.Bottom,targetPosition:p=h.Top,markerEnd:g,markerStart:m,pathOptions:x,interactionWidth:f})=>{let[b,v,w]=aT({sourceX:e,sourceY:t,sourcePosition:c,targetX:a,targetY:n,targetPosition:p,borderRadius:x?.borderRadius,offset:x?.offset});return y.default.createElement(aC,{path:b,labelX:v,labelY:w,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d,style:u,markerEnd:g,markerStart:m,interactionWidth:f})});aP.displayName="SmoothStepEdge";let aO=(0,y.memo)(e=>y.default.createElement(aP,{...e,pathOptions:(0,y.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));aO.displayName="StepEdge";let aD=(0,y.memo)(({sourceX:e,sourceY:t,targetX:a,targetY:n,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d,style:u,markerEnd:c,markerStart:p,interactionWidth:g})=>{let[h,m,x]=function({sourceX:e,sourceY:t,targetX:a,targetY:n}){let[o,i,r,s]=aj({sourceX:e,sourceY:t,targetX:a,targetY:n});return[`M ${e},${t}L ${a},${n}`,o,i,r,s]}({sourceX:e,sourceY:t,targetX:a,targetY:n});return y.default.createElement(aC,{path:h,labelX:m,labelY:x,label:o,labelStyle:i,labelShowBg:r,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:d,style:u,markerEnd:c,markerStart:p,interactionWidth:g})});function aL(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function a$({pos:e,x1:t,y1:a,x2:n,y2:o,c:i}){switch(e){case h.Left:return[t-aL(t-n,i),a];case h.Right:return[t+aL(n-t,i),a];case h.Top:return[t,a-aL(a-o,i)];case h.Bottom:return[t,a+aL(o-a,i)]}}function aB({sourceX:e,sourceY:t,sourcePosition:a=h.Bottom,targetX:n,targetY:o,targetPosition:i=h.Top,curvature:r=.25}){let[s,l]=a$({pos:a,x1:e,y1:t,x2:n,y2:o,c:r}),[d,u]=a$({pos:i,x1:n,y1:o,x2:e,y2:t,c:r}),[c,p,g,m]=ak({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:d,targetControlY:u});return[`M${e},${t} C${s},${l} ${d},${u} ${n},${o}`,c,p,g,m]}aD.displayName="StraightEdge";let aV=(0,y.memo)(({sourceX:e,sourceY:t,targetX:a,targetY:n,sourcePosition:o=h.Bottom,targetPosition:i=h.Top,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:c,style:p,markerEnd:g,markerStart:m,pathOptions:x,interactionWidth:f})=>{let[b,v,w]=aB({sourceX:e,sourceY:t,sourcePosition:o,targetX:a,targetY:n,targetPosition:i,curvature:x?.curvature});return y.default.createElement(aC,{path:b,labelX:v,labelY:w,label:r,labelStyle:s,labelShowBg:l,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:c,style:p,markerEnd:g,markerStart:m,interactionWidth:f})});aV.displayName="BezierEdge";let aH=(0,y.createContext)(null),aF=aH.Provider;aH.Consumer;let aq=()=>(0,y.useContext)(aH),aX=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;let a=t?`${t}__`:"";return`${a}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`},aU=(e,t)=>{let a,n;return e.source&&e.target?(n=a="id"in e&&"source"in e&&"target"in e?{...e}:{...e,id:(({source:e,sourceHandle:t,target:a,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${a}${n||""}`)(e)},t.some(e=>e.source===n.source&&e.target===n.target&&(e.sourceHandle===n.sourceHandle||!e.sourceHandle&&!n.sourceHandle)&&(e.targetHandle===n.targetHandle||!e.targetHandle&&!n.targetHandle)))?t:t.concat(a):(av("006","Can't create edge. An edge needs a source and a target."),t)},aW=({x:e,y:t},[a,n,o],i,[r,s])=>{let l={x:(e-a)/o,y:(t-n)/o};return i?{x:r*Math.round(l.x/r),y:s*Math.round(l.y/s)}:l},aY=({x:e,y:t},[a,n,o])=>({x:e*o+a,y:t*o+n}),aZ=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let a=(e.width??0)*t[0],n=(e.height??0)*t[1],o={x:e.position.x-a,y:e.position.y-n};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-n}:o}},aG=(e,t=[0,0])=>0===e.length?{x:0,y:0,width:0,height:0}:(({x:e,y:t,x2:a,y2:n})=>({x:e,y:t,width:a-e,height:n-t}))(e.reduce((e,a)=>{let n,{x:o,y:i}=aZ(a,t).positionAbsolute;return n=ah({x:o,y:i,width:a.width||0,height:a.height||0}),{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),aK=(e,t,[a,n,o]=[0,0,1],i=!1,r=!1,s=[0,0])=>{let l={x:(t.x-a)/o,y:(t.y-n)/o,width:t.width/o,height:t.height/o},d=[];return e.forEach(e=>{let{width:t,height:a,selectable:n=!0,hidden:o=!1}=e;if(r&&!n||o)return!1;let{positionAbsolute:u}=aZ(e,s),c=ax(l,{x:u.x,y:u.y,width:t||0,height:a||0}),p=void 0===t||void 0===a||null===t||null===a,g=(t||0)*(a||0);(p||i&&c>0||c>=g||e.dragging)&&d.push(e)}),d},aJ=(e,t)=>{let a=e.map(e=>e.id);return t.filter(e=>a.includes(e.source)||a.includes(e.target))},aQ=(e,t,a,n,o,i=.1)=>{let r=ad(Math.min(t/(e.width*(1+i)),a/(e.height*(1+i))),n,o);return{x:t/2-(e.x+e.width/2)*r,y:a/2-(e.y+e.height/2)*r,zoom:r}},a0=(e,t=0)=>e.transition().duration(t);function a1(e,t,a,n){return(t[a]||[]).reduce((t,o)=>(`${e.id}-${o.id}-${a}`!==n&&t.push({id:o.id||null,type:a,nodeId:e.id,x:(e.positionAbsolute?.x??0)+o.x+o.width/2,y:(e.positionAbsolute?.y??0)+o.y+o.height/2}),t),[])}let a2={source:null,target:null,sourceHandle:null,targetHandle:null},a5=()=>({handleDomNode:null,isValid:!1,connection:a2,endHandle:null});function a4(e,t,a,n,o,i,r){let s="target"===o,l=r.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...a5(),handleDomNode:l};if(l){let e=a3(void 0,l),o=l.getAttribute("data-nodeid"),r=l.getAttribute("data-handleid"),c=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),g={source:s?o:a,sourceHandle:s?r:n,target:s?a:o,targetHandle:s?n:r};u.connection=g,c&&p&&(t===d.Strict?s&&"source"===e||!s&&"target"===e:o!==a||r!==n)&&(u.endHandle={nodeId:o,handleId:r,type:e},u.isValid=i(g))}return u}function a3(e,t){return e?e:t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null}function a6(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function a7({event:e,handleId:t,nodeId:a,onConnect:n,isTarget:o,getState:i,setState:r,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:d}){let u,c,p=ag(e.target),{connectionMode:g,domNode:h,autoPanOnConnect:m,connectionRadius:x,onConnectStart:y,panBy:f,getNodes:b,cancelConnection:v}=i(),w=0,{x:N,y:S}=aN(e),C=a3(l,p?.elementFromPoint(N,S)),_=h?.getBoundingClientRect();if(!_||!C)return;let j=aN(e,_),k=!1,I=null,E=!1,M=null,z=function({nodes:e,nodeId:t,handleId:a,handleType:n}){return e.reduce((e,o)=>{if(o[af]){let{handleBounds:i}=o[af],r=[],s=[];i&&(r=a1(o,i,"source",`${t}-${a}-${n}`),s=a1(o,i,"target",`${t}-${a}-${n}`)),e.push(...r,...s)}return e},[])}({nodes:b(),nodeId:a,handleId:t,handleType:C}),R=()=>{if(!m)return;let[e,t]=ap(j,_);f({x:e,y:t}),w=requestAnimationFrame(R)};function A(e){var n,l;let d,{transform:h}=i();j=aN(e,_);let{handle:m,validHandleResult:y}=function(e,t,a,n,o,i){let{x:r,y:s}=aN(e),l=t.elementsFromPoint(r,s).find(e=>e.classList.contains("react-flow__handle"));if(l){let e=l.getAttribute("data-nodeid");if(e){let t=a3(void 0,l),n=l.getAttribute("data-handleid"),r=i({nodeId:e,id:n,type:t});if(r){let i=o.find(a=>a.nodeId===e&&a.type===t&&a.id===n);return{handle:{id:n,type:t,nodeId:e,x:i?.x||a.x,y:i?.y||a.y},validHandleResult:r}}}}let d=[],u=1/0;if(o.forEach(e=>{let t=Math.sqrt((e.x-a.x)**2+(e.y-a.y)**2);if(t<=n){let a=i(e);t<=u&&(t<u?d=[{handle:e,validHandleResult:a}]:t===u&&d.push({handle:e,validHandleResult:a}),u=t)}}),!d.length)return{handle:null,validHandleResult:a5()};if(1===d.length)return d[0];let c=d.some(({validHandleResult:e})=>e.isValid),p=d.some(({handle:e})=>"target"===e.type);return d.find(({handle:e,validHandleResult:t})=>p?"target"===e.type:!c||t.isValid)||d[0]}(e,p,aW(j,h,!1,[1,1]),x,z,e=>a4(e,g,a,t,o?"target":"source",s,p));if(u=m,k||(R(),k=!0),M=y.handleDomNode,I=y.connection,E=y.isValid,r({connectionPosition:u&&E?aY({x:u.x,y:u.y},h):j,connectionStatus:(n=!!u,d=null,(l=E)?d="valid":n&&!l&&(d="invalid"),d),connectionEndHandle:y.endHandle}),!u&&!E&&!M)return a6(c);I.source!==I.target&&M&&(a6(c),c=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",E),M.classList.toggle("react-flow__handle-valid",E))}function T(e){(u||M)&&I&&E&&n?.(I),i().onConnectEnd?.(e),l&&d?.(e),a6(c),v(),cancelAnimationFrame(w),k=!1,E=!1,I=null,M=null,p.removeEventListener("mousemove",A),p.removeEventListener("mouseup",T),p.removeEventListener("touchmove",A),p.removeEventListener("touchend",T)}r({connectionPosition:j,connectionStatus:null,connectionNodeId:a,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:a,handleId:t,type:C},connectionEndHandle:null}),y?.(e,{nodeId:a,handleId:t,handleType:C}),p.addEventListener("mousemove",A),p.addEventListener("mouseup",T),p.addEventListener("touchmove",A),p.addEventListener("touchend",T)}let a8=()=>!0,a9=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ne=(0,y.forwardRef)(({type:e="source",position:t=h.Top,isValidConnection:a,isConnectable:n=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:r,onConnect:s,children:l,className:d,onMouseDown:u,onTouchStart:c,...p},g)=>{let m=r||null,x="target"===e,b=an(),v=aq(),{connectOnClick:w,noPanClassName:N}=aa(a9,k),{connecting:S,clickConnecting:C}=aa(t=>{let{connectionStartHandle:a,connectionEndHandle:n,connectionClickStartHandle:o}=t;return{connecting:a?.nodeId===v&&a?.handleId===m&&a?.type===e||n?.nodeId===v&&n?.handleId===m&&n?.type===e,clickConnecting:o?.nodeId===v&&o?.handleId===m&&o?.type===e}},k);v||b.getState().onError?.("010","Handle: No node id found. Make sure to only use a Handle inside a custom Node.");let _=e=>{let{defaultEdgeOptions:t,onConnect:a,hasDefaultEdges:n}=b.getState(),o={...t,...e};if(n){let{edges:e,setEdges:t}=b.getState();t(aU(o,e))}a?.(o),s?.(o)},j=e=>{if(!v)return;let t="clientX"in e;o&&(t&&0===e.button||!t)&&a7({event:e,handleId:m,nodeId:v,onConnect:_,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:a||b.getState().isValidConnection||a8}),t?u?.(e):c?.(e)};return y.default.createElement("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${m}-${e}`,className:f(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,d,{source:!x,target:x,connectable:n,connectablestart:o,connectableend:i,connecting:C,connectionindicator:n&&(o&&!S||i&&S)}]),onMouseDown:j,onTouchStart:j,onClick:w?t=>{let{onClickConnectStart:n,onClickConnectEnd:i,connectionClickStartHandle:r,connectionMode:s,isValidConnection:l}=b.getState();if(!v||!r&&!o)return;if(!r){n?.(t,{nodeId:v,handleId:m,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:m}});return}let d=ag(t.target),u=a||l||a8,{connection:c,isValid:p}=a4({nodeId:v,id:m,type:e},s,r.nodeId,r.handleId||null,r.type,u,d);p&&_(c),i?.(t),b.setState({connectionClickStartHandle:null})}:void 0,ref:g,...p},l)});ne.displayName="Handle";var nt=(0,y.memo)(ne);let na=({data:e,isConnectable:t,targetPosition:a=h.Top,sourcePosition:n=h.Bottom})=>y.default.createElement(y.default.Fragment,null,y.default.createElement(nt,{type:"target",position:a,isConnectable:t}),e?.label,y.default.createElement(nt,{type:"source",position:n,isConnectable:t}));na.displayName="DefaultNode";var nn=(0,y.memo)(na);let no=({data:e,isConnectable:t,sourcePosition:a=h.Bottom})=>y.default.createElement(y.default.Fragment,null,e?.label,y.default.createElement(nt,{type:"source",position:a,isConnectable:t}));no.displayName="InputNode";var ni=(0,y.memo)(no);let nr=({data:e,isConnectable:t,targetPosition:a=h.Top})=>y.default.createElement(y.default.Fragment,null,y.default.createElement(nt,{type:"target",position:a,isConnectable:t}),e?.label);nr.displayName="OutputNode";var ns=(0,y.memo)(nr);let nl=()=>null;nl.displayName="GroupNode";let nd=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),nu=e=>e.id;function nc(e,t){return k(e.selectedNodes.map(nu),t.selectedNodes.map(nu))&&k(e.selectedEdges.map(nu),t.selectedEdges.map(nu))}let np=(0,y.memo)(({onSelectionChange:e})=>{let t=an(),{selectedNodes:a,selectedEdges:n}=aa(nd,nc);return(0,y.useEffect)(()=>{let o={nodes:a,edges:n};e?.(o),t.getState().onSelectionChange.forEach(e=>e(o))},[a,n,e]),null});np.displayName="SelectionListener";let ng=e=>!!e.onSelectionChange;function nh({onSelectionChange:e}){let t=aa(ng);return e||t?y.default.createElement(np,{onSelectionChange:e}):null}let nm=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function nx(e,t){(0,y.useEffect)(()=>{void 0!==e&&t(e)},[e])}function ny(e,t,a){(0,y.useEffect)(()=>{void 0!==t&&a({[e]:t})},[t])}let nf=({nodes:e,edges:t,defaultNodes:a,defaultEdges:n,onConnect:o,onConnectStart:i,onConnectEnd:r,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:d,nodesConnectable:u,nodesFocusable:c,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:h,minZoom:m,maxZoom:x,nodeExtent:f,onNodesChange:b,onEdgesChange:v,elementsSelectable:w,connectionMode:N,snapGrid:S,snapToGrid:C,translateExtent:_,connectOnClick:j,defaultEdgeOptions:I,fitView:E,fitViewOptions:M,onNodesDelete:z,onEdgesDelete:R,onNodeDrag:A,onNodeDragStart:T,onNodeDragStop:P,onSelectionDrag:O,onSelectionDragStart:D,onSelectionDragStop:L,noPanClassName:$,nodeOrigin:B,rfId:V,autoPanOnConnect:H,autoPanOnNodeDrag:F,onError:q,connectionRadius:X,isValidConnection:U,nodeDragThreshold:W})=>{let{setNodes:Y,setEdges:Z,setDefaultNodesAndEdges:G,setMinZoom:K,setMaxZoom:J,setTranslateExtent:Q,setNodeExtent:ee,reset:et}=aa(nm,k),ea=an();return(0,y.useEffect)(()=>(G(a,n?.map(e=>({...e,...I}))),()=>{et()}),[]),ny("defaultEdgeOptions",I,ea.setState),ny("connectionMode",N,ea.setState),ny("onConnect",o,ea.setState),ny("onConnectStart",i,ea.setState),ny("onConnectEnd",r,ea.setState),ny("onClickConnectStart",s,ea.setState),ny("onClickConnectEnd",l,ea.setState),ny("nodesDraggable",d,ea.setState),ny("nodesConnectable",u,ea.setState),ny("nodesFocusable",c,ea.setState),ny("edgesFocusable",p,ea.setState),ny("edgesUpdatable",g,ea.setState),ny("elementsSelectable",w,ea.setState),ny("elevateNodesOnSelect",h,ea.setState),ny("snapToGrid",C,ea.setState),ny("snapGrid",S,ea.setState),ny("onNodesChange",b,ea.setState),ny("onEdgesChange",v,ea.setState),ny("connectOnClick",j,ea.setState),ny("fitViewOnInit",E,ea.setState),ny("fitViewOnInitOptions",M,ea.setState),ny("onNodesDelete",z,ea.setState),ny("onEdgesDelete",R,ea.setState),ny("onNodeDrag",A,ea.setState),ny("onNodeDragStart",T,ea.setState),ny("onNodeDragStop",P,ea.setState),ny("onSelectionDrag",O,ea.setState),ny("onSelectionDragStart",D,ea.setState),ny("onSelectionDragStop",L,ea.setState),ny("noPanClassName",$,ea.setState),ny("nodeOrigin",B,ea.setState),ny("rfId",V,ea.setState),ny("autoPanOnConnect",H,ea.setState),ny("autoPanOnNodeDrag",F,ea.setState),ny("onError",q,ea.setState),ny("connectionRadius",X,ea.setState),ny("isValidConnection",U,ea.setState),ny("nodeDragThreshold",W,ea.setState),nx(e,Y),nx(t,Z),nx(m,K),nx(x,J),nx(_,Q),nx(f,ee),null},nb={display:"none"},nv={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},nw="react-flow__node-desc",nN="react-flow__edge-desc",nS=e=>e.ariaLiveMessage;function nC({rfId:e}){let t=aa(nS);return y.default.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:nv},t)}function n_({rfId:e,disableKeyboardA11y:t}){return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{id:`${nw}-${e}`,style:nb},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),y.default.createElement("div",{id:`${nN}-${e}`,style:nb},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&y.default.createElement(nC,{rfId:e}))}var nj=(e=null,t={actInsideInputWithModifier:!0})=>{let[a,n]=(0,y.useState)(!1),o=(0,y.useRef)(!1),i=(0,y.useRef)(new Set([])),[r,s]=(0,y.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),a=t.reduce((e,t)=>e.concat(...t),[]);return[t,a]}return[[],[]]},[e]);return(0,y.useEffect)(()=>{let a="undefined"!=typeof document?document:null,l=t?.target||a;if(null!==e){let e=e=>{if(o.current=e.ctrlKey||e.metaKey||e.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&aw(e))return!1;let a=nI(e.code,s);i.current.add(e[a]),nk(r,i.current,!1)&&(e.preventDefault(),n(!0))},a=e=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&aw(e))return!1;let a=nI(e.code,s);nk(r,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(e[a]),"Meta"===e.key&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),n(!1)};return l?.addEventListener("keydown",e),l?.addEventListener("keyup",a),window.addEventListener("blur",d),()=>{l?.removeEventListener("keydown",e),l?.removeEventListener("keyup",a),window.removeEventListener("blur",d)}}},[e,n]),a};function nk(e,t,a){return e.filter(e=>a||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function nI(e,t){return t.includes(e)?"code":"key"}function nE(e,t,a){e.forEach(n=>{let o=n.parentNode||n.parentId;if(o&&!e.has(o))throw Error(`Parent node ${o} not found`);if(o||a?.[n.id]){let{x:o,y:i,z:r}=function e(t,a,n,o){let i=t.parentNode||t.parentId;if(!i)return n;let r=a.get(i),s=aZ(r,o);return e(r,a,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(r[af]?.z??0)>(n.z??0)?r[af]?.z??0:n.z??0},o)}(n,e,{...n.position,z:n[af]?.z??0},t);n.positionAbsolute={x:o,y:i},n[af].z=r,a?.[n.id]&&(n[af].isParent=!0)}})}function nM(e,t,a,n){let o=new Map,i={},r=1e3*!!n;return e.forEach(e=>{let a=(ay(e.zIndex)?e.zIndex:0)+(e.selected?r:0),n=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(i[l]=!0),Object.defineProperty(s,af,{enumerable:!1,value:{handleBounds:n?.type&&n?.type!==e.type?void 0:n?.[af]?.handleBounds,z:a}}),o.set(e.id,s)}),nE(o,a,i),o}function nz(e,t={}){let{getNodes:a,width:n,height:o,minZoom:i,maxZoom:r,d3Zoom:s,d3Selection:l,fitViewOnInitDone:d,fitViewOnInit:u,nodeOrigin:c}=e(),p=t.initial&&!d&&u;if(s&&l&&(p||!t.initial)){let e=a().filter(e=>{let a=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?a&&t.nodes.some(t=>t.id===e.id):a}),d=e.every(e=>e.width&&e.height);if(e.length>0&&d){let{x:a,y:d,zoom:u}=aQ(aG(e,c),n,o,t.minZoom??i,t.maxZoom??r,t.padding??.1),p=tU.translate(a,d).scale(u);return"number"==typeof t.duration&&t.duration>0?s.transform(a0(l,t.duration),p):s.transform(l,p),!0}}return!1}function nR({changedNodes:e,changedEdges:t,get:a,set:n}){let{nodeInternals:o,edges:i,onNodesChange:r,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:d}=a();e?.length&&(l&&n({nodeInternals:(e.forEach(e=>{let t=o.get(e.id);t&&o.set(t.id,{...t,[af]:t[af],selected:e.selected})}),new Map(o))}),r?.(e)),t?.length&&(d&&n({edges:i.map(e=>{let a=t.find(t=>t.id===e.id);return a&&(e.selected=a.selected),e})}),s?.(t))}let nA=()=>{},nT={zoomIn:nA,zoomOut:nA,zoomTo:nA,getZoom:()=>1,setViewport:nA,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:nA,fitBounds:nA,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},nP=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function nO(){let e=(()=>{let e=an(),{d3Zoom:t,d3Selection:a}=aa(nP,k);return(0,y.useMemo)(()=>a&&t?{zoomIn:e=>t.scaleBy(a0(a,e?.duration),1.2),zoomOut:e=>t.scaleBy(a0(a,e?.duration),1/1.2),zoomTo:(e,n)=>t.scaleTo(a0(a,n?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(n,o)=>{let[i,r,s]=e.getState().transform,l=tU.translate(n.x??i,n.y??r).scale(n.zoom??s);t.transform(a0(a,o?.duration),l)},getViewport:()=>{let[t,a,n]=e.getState().transform;return{x:t,y:a,zoom:n}},fitView:t=>nz(e.getState,t),setCenter:(n,o,i)=>{let{width:r,height:s,maxZoom:l}=e.getState(),d=void 0!==i?.zoom?i.zoom:l,u=r/2-n*d,c=s/2-o*d,p=tU.translate(u,c).scale(d);t.transform(a0(a,i?.duration),p)},fitBounds:(n,o)=>{let{width:i,height:r,minZoom:s,maxZoom:l}=e.getState(),{x:d,y:u,zoom:c}=aQ(n,i,r,s,l,o?.padding??.1),p=tU.translate(d,u).scale(c);t.transform(a0(a,o?.duration),p)},project:t=>{let{transform:a,snapToGrid:n,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),aW(t,a,n,o)},screenToFlowPosition:t=>{let{transform:a,snapToGrid:n,snapGrid:o,domNode:i}=e.getState();if(!i)return t;let{x:r,y:s}=i.getBoundingClientRect();return aW({x:t.x-r,y:t.y-s},a,n,o)},flowToScreenPosition:t=>{let{transform:a,domNode:n}=e.getState();if(!n)return t;let{x:o,y:i}=n.getBoundingClientRect(),r=aY(t,a);return{x:r.x+o,y:r.y+i}},viewportInitialized:!0}:nT,[t,a])})(),t=an(),a=(0,y.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),n=(0,y.useCallback)(e=>t.getState().nodeInternals.get(e),[]),o=(0,y.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),i=(0,y.useCallback)(e=>{let{edges:a=[]}=t.getState();return a.find(t=>t.id===e)},[]),r=(0,y.useCallback)(e=>{let{getNodes:a,setNodes:n,hasDefaultNodes:o,onNodesChange:i}=t.getState(),r=a(),s="function"==typeof e?e(r):e;o?n(s):i&&i(0===s.length?r.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))},[]),s=(0,y.useCallback)(e=>{let{edges:a=[],setEdges:n,hasDefaultEdges:o,onEdgesChange:i}=t.getState(),r="function"==typeof e?e(a):e;o?n(r):i&&i(0===r.length?a.map(e=>({type:"remove",id:e.id})):r.map(e=>({item:e,type:"reset"})))},[]),l=(0,y.useCallback)(e=>{let a=Array.isArray(e)?e:[e],{getNodes:n,setNodes:o,hasDefaultNodes:i,onNodesChange:r}=t.getState();i?o([...n(),...a]):r&&r(a.map(e=>({item:e,type:"add"})))},[]),d=(0,y.useCallback)(e=>{let a=Array.isArray(e)?e:[e],{edges:n=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:r}=t.getState();i?o([...n,...a]):r&&r(a.map(e=>({item:e,type:"add"})))},[]),u=(0,y.useCallback)(()=>{let{getNodes:e,edges:a=[],transform:n}=t.getState(),[o,i,r]=n;return{nodes:e().map(e=>({...e})),edges:a.map(e=>({...e})),viewport:{x:o,y:i,zoom:r}}},[]),c=(0,y.useCallback)(({nodes:e,edges:a})=>{let{nodeInternals:n,getNodes:o,edges:i,hasDefaultNodes:r,hasDefaultEdges:s,onNodesDelete:l,onEdgesDelete:d,onNodesChange:u,onEdgesChange:c}=t.getState(),p=(e||[]).map(e=>e.id),g=(a||[]).map(e=>e.id),h=o().reduce((e,t)=>{let a=t.parentNode||t.parentId,n=!p.includes(t.id)&&a&&e.find(e=>e.id===a);return("boolean"!=typeof t.deletable||t.deletable)&&(p.includes(t.id)||n)&&e.push(t),e},[]),m=i.filter(e=>"boolean"!=typeof e.deletable||e.deletable),x=m.filter(e=>g.includes(e.id));if(h||x){let e=[...x,...aJ(h,m)],a=e.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);(s||r)&&(s&&t.setState({edges:i.filter(e=>!a.includes(e.id))}),r&&(h.forEach(e=>{n.delete(e.id)}),t.setState({nodeInternals:new Map(n)}))),a.length>0&&(d?.(e),c&&c(a.map(e=>({id:e,type:"remove"})))),h.length>0&&(l?.(h),u&&u(h.map(e=>({id:e.id,type:"remove"}))))}},[]),p=(0,y.useCallback)(e=>{let a=ay(e.width)&&ay(e.height)&&ay(e.x)&&ay(e.y),n=a?null:t.getState().nodeInternals.get(e.id);return a||n?[a?e:am(n),n,a]:[null,null,a]},[]),g=(0,y.useCallback)((e,a=!0,n)=>{let[o,i,r]=p(e);return o?(n||t.getState().getNodes()).filter(e=>{if(!r&&(e.id===i.id||!e.positionAbsolute))return!1;let t=ax(am(e),o);return a&&t>0||t>=o.width*o.height}):[]},[]),h=(0,y.useCallback)((e,t,a=!0)=>{let[n]=p(e);if(!n)return!1;let o=ax(n,t);return a&&o>0||o>=n.width*n.height},[]);return(0,y.useMemo)(()=>({...e,getNodes:a,getNode:n,getEdges:o,getEdge:i,setNodes:r,setEdges:s,addNodes:l,addEdges:d,toObject:u,deleteElements:c,getIntersectingNodes:g,isNodeIntersecting:h}),[e,a,n,o,i,r,s,l,d,u,c,g,h])}let nD={actInsideInputWithModifier:!1},nL={position:"absolute",width:"100%",height:"100%",top:0,left:0},n$=e=>({x:e.x,y:e.y,zoom:e.k}),nB=(e,t)=>e.target.closest(`.${t}`),nV=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),nH=e=>{let t=e.ctrlKey&&aS()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},nF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),nq=({onMove:e,onMoveStart:t,onMoveEnd:a,onPaneContextMenu:n,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=u.Free,zoomOnDoubleClick:d=!0,elementsSelectable:c,panOnDrag:p=!0,defaultViewport:g,translateExtent:h,minZoom:m,maxZoom:x,zoomActivationKeyCode:f,preventScrolling:b=!0,children:v,noWheelClassName:w,noPanClassName:N})=>{let S,C=(0,y.useRef)(),_=an(),j=(0,y.useRef)(!1),I=(0,y.useRef)(!1),M=(0,y.useRef)(null),z=(0,y.useRef)({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:A,d3ZoomHandler:T,userSelectionActive:P}=aa(nF,k),O=nj(f),D=(0,y.useRef)(0),L=(0,y.useRef)(!1),$=(0,y.useRef)();return S=an(),(0,y.useEffect)(()=>{let e,t=()=>{if(!M.current)return;let e=al(M.current);(0===e.height||0===e.width)&&S.getState().onError?.("004","The React Flow parent container needs a width and a height to render the graph."),S.setState({width:e.width||500,height:e.height||500})};return t(),window.addEventListener("resize",t),M.current&&(e=new ResizeObserver(()=>t())).observe(M.current),()=>{window.removeEventListener("resize",t),e&&M.current&&e.unobserve(M.current)}},[]),(0,y.useEffect)(()=>{if(M.current){let e=M.current.getBoundingClientRect(),t=(function(){var e,t,a,n=tZ,o=tG,i=t0,r=tJ,s=tQ,l=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],u=250,c=ek,p=E("start","zoom","end"),g=0,h=10;function m(e){e.property("__zoom",tK).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",_).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new tX(t,e.x,e.y)}function y(e,t,a){var n=t[0]-a[0]*e.k,o=t[1]-a[1]*e.k;return n===e.x&&o===e.y?e:new tX(e.k,n,o)}function f(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,a,n){e.on("start.zoom",function(){v(this,arguments).event(n).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(n).end()}).tween("zoom",function(){var e=arguments,i=v(this,e).event(n),r=o.apply(this,e),s=null==a?f(r):"function"==typeof a?a.apply(this,e):a,l=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),d=this.__zoom,u="function"==typeof t?t.apply(this,e):t,p=c(d.invert(s).concat(l/d.k),u.invert(s).concat(l/u.k));return function(e){if(1===e)e=u;else{var t=p(e),a=l/t[2];e=new tX(a,s[0]-t[0]*a,s[1]-t[1]*a)}i.zoom(null,e)}})}function v(e,t,a){return!a&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function N(e,...t){if(n.apply(this,arguments)){var a=v(this,t).event(e),o=this.__zoom,s=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,r.apply(this,arguments)))),u=eI(e);if(a.wheel)(a.mouse[0][0]!==u[0]||a.mouse[0][1]!==u[1])&&(a.mouse[1]=o.invert(a.mouse[0]=u)),clearTimeout(a.wheel);else{if(o.k===s)return;a.mouse=[u,o.invert(u)],eQ(this),a.start()}tY(e),a.wheel=setTimeout(function(){a.wheel=null,a.end()},150),a.zoom("mouse",i(y(x(o,s),a.mouse[0],a.mouse[1]),a.extent,d))}}function S(e,...t){if(!a&&n.apply(this,arguments)){var o=e.currentTarget,r=v(this,t,!0).event(e),s=eb(e.view).on("mousemove.zoom",function(e){if(tY(e),!r.moved){var t=e.clientX-u,a=e.clientY-c;r.moved=t*t+a*a>g}r.event(e).zoom("mouse",i(y(r.that.__zoom,r.mouse[0]=eI(e,o),r.mouse[1]),r.extent,d))},!0).on("mouseup.zoom",function(e){s.on("mousemove.zoom mouseup.zoom",null),e_(e.view,r.moved),tY(e),r.event(e).end()},!0),l=eI(e,o),u=e.clientX,c=e.clientY;eC(e.view),tW(e),r.mouse=[l,this.__zoom.invert(l)],eQ(this),r.start()}}function C(e,...t){if(n.apply(this,arguments)){var a=this.__zoom,r=eI(e.changedTouches?e.changedTouches[0]:e,this),s=a.invert(r),l=a.k*(e.shiftKey?.5:2),c=i(y(x(a,l),r,s),o.apply(this,t),d);tY(e),u>0?eb(this).transition().duration(u).call(b,c,r,e):eb(this).call(m.transform,c,r,e)}}function _(a,...o){if(n.apply(this,arguments)){var i,r,s,l,d=a.touches,u=d.length,c=v(this,o,a.changedTouches.length===u).event(a);for(tW(a),r=0;r<u;++r)l=[l=eI(s=d[r],this),this.__zoom.invert(l),s.identifier],c.touch0?c.touch1||c.touch0[2]===l[2]||(c.touch1=l,c.taps=0):(c.touch0=l,i=!0,c.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(c.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),eQ(this),c.start())}}function j(e,...t){if(this.__zooming){var a,n,o,r,s=v(this,t).event(e),l=e.changedTouches,u=l.length;for(tY(e),a=0;a<u;++a)o=eI(n=l[a],this),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=o);if(n=s.that.__zoom,s.touch1){var c=s.touch0[0],p=s.touch0[1],g=s.touch1[0],h=s.touch1[1],m=(m=g[0]-c[0])*m+(m=g[1]-c[1])*m,f=(f=h[0]-p[0])*f+(f=h[1]-p[1])*f;n=x(n,Math.sqrt(m/f)),o=[(c[0]+g[0])/2,(c[1]+g[1])/2],r=[(p[0]+h[0])/2,(p[1]+h[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],r=s.touch0[1]}s.zoom("touch",i(y(n,o,r),s.extent,d))}}function k(e,...n){if(this.__zooming){var o,i,r=v(this,n).event(e),s=e.changedTouches,l=s.length;for(tW(e),a&&clearTimeout(a),a=setTimeout(function(){a=null},500),o=0;o<l;++o)i=s[o],r.touch0&&r.touch0[2]===i.identifier?delete r.touch0:r.touch1&&r.touch1[2]===i.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps&&(i=eI(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<h)){var d=eb(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,a,n){var o=e.selection?e.selection():e;o.property("__zoom",tK),e!==o?b(e,t,a,n):o.interrupt().each(function(){v(this,arguments).event(n).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,a,n){m.scaleTo(e,function(){var e=this.__zoom.k,a="function"==typeof t?t.apply(this,arguments):t;return e*a},a,n)},m.scaleTo=function(e,t,a,n){m.transform(e,function(){var e=o.apply(this,arguments),n=this.__zoom,r=null==a?f(e):"function"==typeof a?a.apply(this,arguments):a,s=n.invert(r),l="function"==typeof t?t.apply(this,arguments):t;return i(y(x(n,l),r,s),e,d)},a,n)},m.translateBy=function(e,t,a,n){m.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof a?a.apply(this,arguments):a),o.apply(this,arguments),d)},null,n)},m.translateTo=function(e,t,a,n,r){m.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,s=null==n?f(e):"function"==typeof n?n.apply(this,arguments):n;return i(tU.translate(s[0],s[1]).scale(r.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof a?-a.apply(this,arguments):-a),e,d)},n,r)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=eb(this.that).datum();p.call(e,this.that,new tq(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:p}),t)}},m.wheelDelta=function(e){return arguments.length?(r="function"==typeof e?e:tF(+e),m):r},m.filter=function(e){return arguments.length?(n="function"==typeof e?e:tF(!!e),m):n},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:tF(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"==typeof e?e:tF([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(d[0][0]=+e[0][0],d[1][0]=+e[1][0],d[0][1]=+e[0][1],d[1][1]=+e[1][1],m):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(c=e,m):c},m.on=function(){var e=p.on.apply(p,arguments);return e===p?m:e},m.clickDistance=function(e){return arguments.length?(g=(e*=1)*e,m):Math.sqrt(g)},m.tapDistance=function(e){return arguments.length?(h=+e,m):h},m})().scaleExtent([m,x]).translateExtent(h),a=eb(M.current).call(t),n=tU.translate(g.x,g.y).scale(ad(g.zoom,m,x)),o=[[0,0],[e.width,e.height]],i=t.constrain()(n,o,h);t.transform(a,i),t.wheelDelta(nH),_.setState({d3Zoom:t,d3Selection:a,d3ZoomHandler:a.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:M.current.closest(".react-flow")})}},[]),(0,y.useEffect)(()=>{A&&R&&(!r||O||P?void 0!==T&&A.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||nB(e,w))return null;e.preventDefault(),T.call(this,e,t)},{passive:!1}):A.on("wheel.zoom",n=>{if(nB(n,w))return!1;n.preventDefault(),n.stopImmediatePropagation();let o=A.property("__zoom").k||1;if(n.ctrlKey&&i){let e=eI(n),t=o*Math.pow(2,nH(n));R.scaleTo(A,t,e,n);return}let r=1===n.deltaMode?20:1,d=l===u.Vertical?0:n.deltaX*r,c=l===u.Horizontal?0:n.deltaY*r;!aS()&&n.shiftKey&&l!==u.Vertical&&(d=n.deltaY*r,c=0),R.translateBy(A,-(d/o)*s,-(c/o)*s,{internal:!0});let p=n$(A.property("__zoom")),{onViewportChangeStart:g,onViewportChange:h,onViewportChangeEnd:m}=_.getState();clearTimeout($.current),L.current||(L.current=!0,t?.(n,p),g?.(p)),L.current&&(e?.(n,p),h?.(p),$.current=setTimeout(()=>{a?.(n,p),m?.(p),L.current=!1},150))},{passive:!1}))},[P,r,l,A,R,T,O,i,b,w,t,e,a]),(0,y.useEffect)(()=>{R&&R.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;D.current=e.sourceEvent?.button;let{onViewportChangeStart:a}=_.getState(),n=n$(e.transform);j.current=!0,z.current=n,e.sourceEvent?.type==="mousedown"&&_.setState({paneDragging:!0}),a?.(n),t?.(e.sourceEvent,n)})},[R,t]),(0,y.useEffect)(()=>{R&&(P&&!j.current?R.on("zoom",null):P||R.on("zoom",t=>{let{onViewportChange:a}=_.getState();if(_.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),I.current=!!(n&&nV(p,D.current??0)),(e||a)&&!t.sourceEvent?.internal){let n=n$(t.transform);a?.(n),e?.(t.sourceEvent,n)}}))},[P,R,e,p,n]),(0,y.useEffect)(()=>{R&&R.on("end",e=>{let t,o;if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:i}=_.getState();if(j.current=!1,_.setState({paneDragging:!1}),n&&nV(p,D.current??0)&&!I.current&&n(e.sourceEvent),I.current=!1,(a||i)&&(t=z.current,o=e.transform,t.x!==o.x||t.y!==o.y||t.zoom!==o.k)){let t=n$(e.transform);z.current=t,clearTimeout(C.current),C.current=setTimeout(()=>{i?.(t),a?.(e.sourceEvent,t)},150*!!r)}})},[R,r,p,a,n]),(0,y.useEffect)(()=>{R&&R.filter(e=>{let t=O||o,a=i&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(nB(e,"react-flow__node")||nB(e,"react-flow__edge")))return!0;if(!p&&!t&&!r&&!d&&!i||P||!d&&"dblclick"===e.type||nB(e,w)&&"wheel"===e.type||nB(e,N)&&("wheel"!==e.type||r&&"wheel"===e.type&&!O)||!i&&e.ctrlKey&&"wheel"===e.type||!t&&!r&&!a&&"wheel"===e.type||!p&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;let n=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&n})},[P,R,o,i,r,d,p,c,O]),y.default.createElement("div",{className:"react-flow__renderer",ref:M,style:nL},v)},nX=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function nU(){let{userSelectionActive:e,userSelectionRect:t}=aa(nX,k);return e&&t?y.default.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function nW(e,t){let a=t.parentNode||t.parentId,n=e.find(e=>e.id===a);if(n){let e=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(e>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,e>0&&(n.style.width+=e),a>0&&(n.style.height+=a),t.position.x<0){let e=Math.abs(t.position.x);n.position.x=n.position.x-e,n.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);n.position.y=n.position.y-e,n.style.height+=e,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function nY(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let a=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,a)=>{let n=e.filter(e=>e.id===a.id);if(0===n.length)return t.push(a),t;let o={...a};for(let e of n)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":void 0!==e.position&&(o.position=e.position),void 0!==e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(o.dragging=e.dragging),o.expandParent&&nW(t,o);break;case"dimensions":void 0!==e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),void 0!==e.updateStyle&&(o.style={...o.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&nW(t,o);break;case"remove":return t}return t.push(o),t},a)}function nZ(e,t){return nY(e,t)}let nG=(e,t)=>({id:e,type:"select",selected:t});function nK(e,t){return e.reduce((e,a)=>{let n=t.includes(a.id);return!a.selected&&n?(a.selected=!0,e.push(nG(a.id,!0))):a.selected&&!n&&(a.selected=!1,e.push(nG(a.id,!1))),e},[])}let nJ=(e,t)=>a=>{a.target===t.current&&e?.(a)},nQ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),n0=(0,y.memo)(({isSelecting:e,selectionMode:t=c.Full,panOnDrag:a,onSelectionStart:n,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:r,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:d,onPaneMouseLeave:u,children:p})=>{let g=(0,y.useRef)(null),h=an(),m=(0,y.useRef)(0),x=(0,y.useRef)(0),b=(0,y.useRef)(),{userSelectionActive:v,elementsSelectable:w,dragging:N}=aa(nQ,k),S=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,x.current=0},C=e=>{i?.(e),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},_=w&&(e||v);return y.default.createElement("div",{className:f(["react-flow__pane",{dragging:N,selection:e}]),onClick:_?void 0:nJ(C,g),onContextMenu:nJ(e=>{Array.isArray(a)&&a?.includes(2)?e.preventDefault():r?.(e)},g),onWheel:nJ(s?e=>s(e):void 0,g),onMouseEnter:_?void 0:l,onMouseDown:_?t=>{let{resetSelectedElements:a,domNode:o}=h.getState();if(b.current=o?.getBoundingClientRect(),!w||!e||0!==t.button||t.target!==g.current||!b.current)return;let{x:i,y:r}=aN(t,b.current);a(),h.setState({userSelectionRect:{width:0,height:0,startX:i,startY:r,x:i,y:r}}),n?.(t)}:void 0,onMouseMove:_?a=>{let{userSelectionRect:n,nodeInternals:o,edges:i,transform:r,onNodesChange:s,onEdgesChange:l,nodeOrigin:d,getNodes:u}=h.getState();if(!e||!b.current||!n)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});let p=aN(a,b.current),g=n.startX??0,y=n.startY??0,f={...n,x:p.x<g?p.x:g,y:p.y<y?p.y:y,width:Math.abs(p.x-g),height:Math.abs(p.y-y)},v=u(),w=aK(o,f,r,t===c.Partial,!0,d),N=aJ(w,i).map(e=>e.id),S=w.map(e=>e.id);if(m.current!==S.length){m.current=S.length;let e=nK(v,S);e.length&&s?.(e)}if(x.current!==N.length){x.current=N.length;let e=nK(i,N);e.length&&l?.(e)}h.setState({userSelectionRect:f})}:d,onMouseUp:_?e=>{if(0!==e.button)return;let{userSelectionRect:t}=h.getState();!v&&t&&e.target===g.current&&C?.(e),h.setState({nodesSelectionActive:m.current>0}),S(),o?.(e)}:void 0,onMouseLeave:_?e=>{v&&(h.setState({nodesSelectionActive:m.current>0}),o?.(e)),S()}:u,ref:g,style:nL},p,y.default.createElement(nU,null))});function n1(e,t,a){let n=e;do{if(n?.matches(t))return!0;if(n===a.current)break;n=n.parentElement}while(n)return!1}function n2(e,t,a,n,o=[0,0],i){var r;let s=(r=e.extent||n)&&"parent"!==r?[r[0],[r[1][0]-(e.width||0),r[1][1]-(e.height||0)]]:r,l=s,d=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&d&&"parent"!==e.extent){let{x:t,y:n}=aZ(a.get(d),o).positionAbsolute;l=[[e.extent[0][0]+t,e.extent[0][1]+n],[e.extent[1][0]+t,e.extent[1][1]+n]]}}else if(d&&e.width&&e.height){let t=a.get(d),{x:n,y:i}=aZ(t,o).positionAbsolute;l=t&&ay(n)&&ay(i)&&ay(t.width)&&ay(t.height)?[[n+e.width*o[0],i+e.height*o[1]],[n+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:l}else i?.("005","Only child nodes can use a parent extent."),l=s;let u={x:0,y:0};d&&(u=aZ(a.get(d),o).positionAbsolute);let c=l&&"parent"!==l?au(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function n5({nodeId:e,dragItems:t,nodeInternals:a}){let n=t.map(e=>({...a.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[e?n.find(t=>t.id===e):n[0],n]}n0.displayName="Pane";let n4=(e,t,a,n)=>{let o=t.querySelectorAll(e);if(!o||!o.length)return null;let i=Array.from(o),r=t.getBoundingClientRect(),s={x:r.width*n[0],y:r.height*n[1]};return i.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-r.left-s.x)/a,y:(t.top-r.top-s.y)/a,...al(e)}})};function n3(e,t,a){return void 0===a?a:n=>{let o=t().nodeInternals.get(e);o&&a(n,{...o})}}function n6({id:e,store:t,unselect:a=!1,nodeRef:n}){let o,{addSelectedNodes:i,unselectNodesAndEdges:r,multiSelectionActive:s,nodeInternals:l,onError:d}=t.getState(),u=l.get(e);u?(t.setState({nodesSelectionActive:!1}),u.selected?(a||u.selected&&s)&&(r({nodes:[u],edges:[]}),requestAnimationFrame(()=>n?.current?.blur())):i([e])):d?.("012",(o=e,`Node with id "${o}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`))}function n7(){let e=an();return(0,y.useCallback)(({sourceEvent:t})=>{let{transform:a,snapGrid:n,snapToGrid:o}=e.getState(),i=t.touches?t.touches[0].clientX:t.clientX,r=t.touches?t.touches[0].clientY:t.clientY,s={x:(i-a[0])/a[2],y:(r-a[1])/a[2]};return{xSnapped:o?n[0]*Math.round(s.x/n[0]):s.x,ySnapped:o?n[1]*Math.round(s.y/n[1]):s.y,...s}},[])}function n8(e){return(t,a,n)=>e?.(t,n)}function n9({nodeRef:e,disabled:t=!1,noDragClassName:a,handleSelector:n,nodeId:o,isSelectable:i,selectNodesOnDrag:r}){let s=an(),[l,d]=(0,y.useState)(!1),u=(0,y.useRef)([]),c=(0,y.useRef)({x:null,y:null}),p=(0,y.useRef)(0),g=(0,y.useRef)(null),h=(0,y.useRef)({x:0,y:0}),m=(0,y.useRef)(null),x=(0,y.useRef)(!1),f=(0,y.useRef)(!1),b=(0,y.useRef)(!1),v=n7();return(0,y.useEffect)(()=>{if(e?.current){let l=eb(e.current),y=({x:e,y:t})=>{let{nodeInternals:a,onNodeDrag:n,onSelectionDrag:i,updateNodePositions:r,nodeExtent:l,snapGrid:p,snapToGrid:g,nodeOrigin:h,onError:x}=s.getState();c.current={x:e,y:t};let y=!1,f={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&l&&(f=ah(aG(u.current,h))),u.current=u.current.map(n=>{let o={x:e-n.distance.x,y:t-n.distance.y};g&&(o.x=p[0]*Math.round(o.x/p[0]),o.y=p[1]*Math.round(o.y/p[1]));let i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];u.current.length>1&&l&&!n.extent&&(i[0][0]=n.positionAbsolute.x-f.x+l[0][0],i[1][0]=n.positionAbsolute.x+(n.width??0)-f.x2+l[1][0],i[0][1]=n.positionAbsolute.y-f.y+l[0][1],i[1][1]=n.positionAbsolute.y+(n.height??0)-f.y2+l[1][1]);let r=n2(n,o,a,i,h,x);return y=y||n.position.x!==r.position.x||n.position.y!==r.position.y,n.position=r.position,n.positionAbsolute=r.positionAbsolute,n}),!y)return;r(u.current,!0,!0),d(!0);let b=o?n:n8(i);if(b&&m.current){let[e,t]=n5({nodeId:o,dragItems:u.current,nodeInternals:a});b(m.current,e,t)}},w=()=>{if(!g.current)return;let[e,t]=ap(h.current,g.current);if(0!==e||0!==t){let{transform:a,panBy:n}=s.getState();c.current.x=(c.current.x??0)-e/a[2],c.current.y=(c.current.y??0)-t/a[2],n({x:e,y:t})&&y(c.current)}p.current=requestAnimationFrame(w)},N=t=>{let{nodeInternals:a,multiSelectionActive:n,nodesDraggable:l,unselectNodesAndEdges:d,onNodeDragStart:p,onSelectionDragStart:g}=s.getState();f.current=!0;let h=o?p:n8(g);r&&i||n||!o||a.get(o)?.selected||d(),o&&i&&r&&n6({id:o,store:s,nodeRef:e});let m=v(t);if(c.current=m,u.current=Array.from(a.values()).filter(e=>(e.selected||e.id===o)&&(!e.parentNode||e.parentId||!function e(t,a){let n=t.parentNode||t.parentId;if(!n)return!1;let o=a.get(n);return!!o&&(!!o.selected||e(o,a))}(e,a))&&(e.draggable||l&&void 0===e.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:m.x-(e.positionAbsolute?.x??0),y:m.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})),h&&u.current){let[e,n]=n5({nodeId:o,dragItems:u.current,nodeInternals:a});h(t.sourceEvent,e,n)}};if(t)l.on(".drag",null);else{let t=t7().on("start",e=>{let{domNode:t,nodeDragThreshold:a}=s.getState();0===a&&N(e),b.current=!1,c.current=v(e),g.current=t?.getBoundingClientRect()||null,h.current=aN(e.sourceEvent,g.current)}).on("drag",e=>{let t=v(e),{autoPanOnNodeDrag:a,nodeDragThreshold:n}=s.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!x.current&&f.current&&a&&(x.current=!0,w()),!f.current){let a=t.xSnapped-(c?.current?.x??0),o=t.ySnapped-(c?.current?.y??0);Math.sqrt(a*a+o*o)>n&&N(e)}(c.current.x!==t.xSnapped||c.current.y!==t.ySnapped)&&u.current&&f.current&&(m.current=e.sourceEvent,h.current=aN(e.sourceEvent,g.current),y(t))}}).on("end",e=>{if(f.current&&!b.current&&(d(!1),x.current=!1,f.current=!1,cancelAnimationFrame(p.current),u.current)){let{updateNodePositions:t,nodeInternals:a,onNodeDragStop:n,onSelectionDragStop:i}=s.getState(),r=o?n:n8(i);if(t(u.current,!1,!1),r){let[t,n]=n5({nodeId:o,dragItems:u.current,nodeInternals:a});r(e.sourceEvent,t,n)}}}).filter(t=>{let o=t.target;return!t.button&&(!a||!n1(o,`.${a}`,e))&&(!n||n1(o,n,e))});return l.call(t),()=>{l.on(".drag",null)}}}},[e,t,a,n,i,s,o,r,v]),l}function oe(){let e=an();return(0,y.useCallback)(t=>{let{nodeInternals:a,nodeExtent:n,updateNodePositions:o,getNodes:i,snapToGrid:r,snapGrid:s,onError:l,nodesDraggable:d}=e.getState(),u=i().filter(e=>e.selected&&(e.draggable||d&&void 0===e.draggable)),c=r?s[0]:5,p=r?s[1]:5,g=t.isShiftPressed?4:1,h=t.x*c*g,m=t.y*p*g;o(u.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+h,y:e.positionAbsolute.y+m};r&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));let{positionAbsolute:o,position:i}=n2(e,t,a,n,void 0,l);e.position=i,e.positionAbsolute=o}return e}),!0,!1)},[])}let ot={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var oa=e=>{let t=({id:t,type:a,data:n,xPos:o,yPos:i,xPosOrigin:r,yPosOrigin:s,selected:l,onClick:d,onMouseEnter:u,onMouseMove:c,onMouseLeave:p,onContextMenu:g,onDoubleClick:h,style:m,className:x,isDraggable:b,isSelectable:v,isConnectable:w,isFocusable:N,selectNodesOnDrag:S,sourcePosition:C,targetPosition:_,hidden:j,resizeObserver:k,dragHandle:I,zIndex:E,isParent:M,noDragClassName:z,noPanClassName:R,initialized:A,disableKeyboardA11y:T,ariaLabel:P,rfId:O,hasHandleBounds:D})=>{let L=an(),$=(0,y.useRef)(null),B=(0,y.useRef)(null),V=(0,y.useRef)(C),H=(0,y.useRef)(_),F=(0,y.useRef)(a),q=v||b||d||u||c||p,X=oe(),U=n3(t,L.getState,u),W=n3(t,L.getState,c),Y=n3(t,L.getState,p),Z=n3(t,L.getState,g),G=n3(t,L.getState,h);(0,y.useEffect)(()=>()=>{B.current&&(k?.unobserve(B.current),B.current=null)},[]),(0,y.useEffect)(()=>{if($.current&&!j){let e=$.current;A&&D&&B.current===e||(B.current&&k?.unobserve(B.current),k?.observe(e),B.current=e)}},[j,A,D]),(0,y.useEffect)(()=>{let e=F.current!==a,n=V.current!==C,o=H.current!==_;$.current&&(e||n||o)&&(e&&(F.current=a),n&&(V.current=C),o&&(H.current=_),L.getState().updateNodeDimensions([{id:t,nodeElement:$.current,forceUpdate:!0}]))},[t,a,C,_]);let K=n9({nodeRef:$,disabled:j||!b,noDragClassName:z,handleSelector:I,nodeId:t,isSelectable:v,selectNodesOnDrag:S});return j?null:y.default.createElement("div",{className:f(["react-flow__node",`react-flow__node-${a}`,{[R]:b},x,{selected:l,selectable:v,parent:M,dragging:K}]),ref:$,style:{zIndex:E,transform:`translate(${r}px,${s}px)`,pointerEvents:q?"all":"none",visibility:A?"visible":"hidden",...m},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:U,onMouseMove:W,onMouseLeave:Y,onContextMenu:Z,onClick:e=>{let{nodeDragThreshold:a}=L.getState();if(v&&(!S||!b||a>0)&&n6({id:t,store:L,nodeRef:$}),d){let a=L.getState().nodeInternals.get(t);a&&d(e,{...a})}},onDoubleClick:G,onKeyDown:N?e=>{aw(e)||!T&&(ab.includes(e.key)&&v?n6({id:t,store:L,unselect:"Escape"===e.key,nodeRef:$}):b&&l&&Object.prototype.hasOwnProperty.call(ot,e.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),X({x:ot[e.key].x,y:ot[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":T?void 0:`${nw}-${O}`,"aria-label":P},y.default.createElement(aF,{value:t},y.default.createElement(e,{id:t,data:n,type:a,xPos:o,yPos:i,selected:l,isConnectable:w,sourcePosition:C,targetPosition:_,dragging:K,dragHandle:I,zIndex:E})))};return t.displayName="NodeWrapper",(0,y.memo)(t)};let on=e=>({...aG(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive});var oo=(0,y.memo)(function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:a}){let n=an(),{width:o,height:i,x:r,y:s,transformString:l,userSelectionActive:d}=aa(on,k),u=oe(),c=(0,y.useRef)(null);if((0,y.useEffect)(()=>{a||c.current?.focus({preventScroll:!0})},[a]),n9({nodeRef:c}),d||!o||!i)return null;let p=e?t=>{e(t,n.getState().getNodes().filter(e=>e.selected))}:void 0;return y.default.createElement("div",{className:f(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},y.default.createElement("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:a?void 0:-1,onKeyDown:a?void 0:e=>{Object.prototype.hasOwnProperty.call(ot,e.key)&&u({x:ot[e.key].x,y:ot[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:i,top:s,left:r}}))});let oi=e=>e.nodesSelectionActive,or=({children:e,onPaneClick:t,onPaneMouseEnter:a,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:r,deleteKeyCode:s,onMove:l,onMoveStart:d,onMoveEnd:u,selectionKeyCode:c,selectionOnDrag:p,selectionMode:g,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:x,panActivationKeyCode:f,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:k,defaultViewport:I,translateExtent:E,minZoom:M,maxZoom:z,preventScrolling:R,onSelectionContextMenu:A,noWheelClassName:T,noPanClassName:P,disableKeyboardA11y:O})=>{let D=aa(oi),L=nj(c),$=nj(f),B=$||k,V=$||S,H=L||p&&!0!==B;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let a=an(),{deleteElements:n}=nO(),o=nj(e,nD),i=nj(t);(0,y.useEffect)(()=>{if(o){let{edges:e,getNodes:t}=a.getState();n({nodes:t().filter(e=>e.selected),edges:e.filter(e=>e.selected)}),a.setState({nodesSelectionActive:!1})}},[o]),(0,y.useEffect)(()=>{a.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:s,multiSelectionKeyCode:x}),y.default.createElement(nq,{onMove:l,onMoveStart:d,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:V,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:!L&&B,defaultViewport:I,translateExtent:E,minZoom:M,maxZoom:z,zoomActivationKeyCode:b,preventScrolling:R,noWheelClassName:T,noPanClassName:P},y.default.createElement(n0,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:a,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:r,panOnDrag:B,isSelecting:!!H,selectionMode:g},e,D&&y.default.createElement(oo,{onSelectionContextMenu:A,noPanClassName:P,disableKeyboardA11y:O})))};or.displayName="FlowRenderer";var os=(0,y.memo)(or);function ol(e){let t={input:oa(e.input||ni),default:oa(e.default||nn),output:oa(e.output||ns),group:oa(e.group||nl)},a=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,a)=>(t[a]=oa(e[a]||nn),t),{});return{...t,...a}}let od=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ou=e=>{var t;let{nodesDraggable:a,nodesConnectable:n,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:r,onError:s}=aa(od,k),l=(t=e.onlyRenderVisibleElements,aa((0,y.useCallback)(e=>t?aK(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[t]))),d=(0,y.useRef)(),u=(0,y.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{r(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return d.current=e,e},[]);return(0,y.useEffect)(()=>()=>{d?.current?.disconnect()},[]),y.default.createElement("div",{className:"react-flow__nodes",style:nL},l.map(t=>{let r,l=t.type||"default";e.nodeTypes[l]||(s?.("003",(r=l,`Node type "${r}" not found. Using fallback type "default".`)),l="default");let d=e.nodeTypes[l]||e.nodeTypes.default,c=!!(t.draggable||a&&void 0===t.draggable),p=!!(t.selectable||i&&void 0===t.selectable),g=!!(t.connectable||n&&void 0===t.connectable),m=!!(t.focusable||o&&void 0===t.focusable),x=e.nodeExtent?au(t.positionAbsolute,e.nodeExtent):t.positionAbsolute,f=x?.x??0,b=x?.y??0,v=(({x:e,y:t,width:a,height:n,origin:o})=>!a||!n||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-a*o[0],y:t-n*o[1]})({x:f,y:b,width:t.width??0,height:t.height??0,origin:e.nodeOrigin});return y.default.createElement(d,{key:t.id,id:t.id,className:t.className,style:t.style,type:l,data:t.data,sourcePosition:t.sourcePosition||h.Bottom,targetPosition:t.targetPosition||h.Top,hidden:t.hidden,xPos:f,yPos:b,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:c,isSelectable:p,isConnectable:g,isFocusable:m,resizeObserver:u,dragHandle:t.dragHandle,zIndex:t[af]?.z??0,isParent:!!t[af]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:t.ariaLabel,hasHandleBounds:!!t[af]?.handleBounds})}))};ou.displayName="NodeRenderer";var oc=(0,y.memo)(ou);let op="react-flow__edgeupdater",og=({position:e,centerX:t,centerY:a,radius:n=10,onMouseDown:o,onMouseEnter:i,onMouseOut:r,type:s})=>y.default.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:r,className:f([op,`${op}-${s}`]),cx:e===h.Left?t-n:e===h.Right?t+n:t,cy:e===h.Top?a-n:e===h.Bottom?a+n:a,r:n,stroke:"transparent",fill:"transparent"}),oh=()=>!0;var om=e=>{let t=({id:t,className:a,type:n,data:o,onClick:i,onEdgeDoubleClick:r,selected:s,animated:l,label:d,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:m,source:x,target:b,sourceX:v,sourceY:w,targetX:N,targetY:S,sourcePosition:C,targetPosition:_,elementsSelectable:j,hidden:k,sourceHandleId:I,targetHandleId:E,onContextMenu:M,onMouseEnter:z,onMouseMove:R,onMouseLeave:A,reconnectRadius:T,onReconnect:P,onReconnectStart:O,onReconnectEnd:D,markerEnd:L,markerStart:$,rfId:B,ariaLabel:V,isFocusable:H,isReconnectable:F,pathOptions:q,interactionWidth:X,disableKeyboardA11y:U})=>{let W=(0,y.useRef)(null),[Y,Z]=(0,y.useState)(!1),[G,K]=(0,y.useState)(!1),J=an(),Q=(0,y.useMemo)(()=>`url('#${aX($,B)}')`,[$,B]),ee=(0,y.useMemo)(()=>`url('#${aX(L,B)}')`,[L,B]);if(k)return null;let et=a_(t,J.getState,r),ea=a_(t,J.getState,M),en=a_(t,J.getState,z),eo=a_(t,J.getState,R),ei=a_(t,J.getState,A),er=(e,a)=>{if(0!==e.button)return;let{edges:n,isValidConnection:o}=J.getState(),i=a?b:x,r=(a?E:I)||null,s=a?"target":"source",l=n.find(e=>e.id===t);K(!0),O?.(e,l,s),a7({event:e,handleId:r,nodeId:i,onConnect:e=>P?.(l,e),isTarget:a,getState:J.getState,setState:J.setState,isValidConnection:o||oh,edgeUpdaterType:s,onReconnectEnd:e=>{K(!1),D?.(e,l,s)}})},es=()=>Z(!0),el=()=>Z(!1);return y.default.createElement("g",{className:f(["react-flow__edge",`react-flow__edge-${n}`,a,{selected:s,animated:l,inactive:!j&&!i,updating:Y}]),onClick:e=>{let{edges:a,addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:r}=J.getState(),s=a.find(e=>e.id===t);s&&(j&&(J.setState({nodesSelectionActive:!1}),s.selected&&r?(o({nodes:[],edges:[s]}),W.current?.blur()):n([t])),i&&i(e,s))},onDoubleClick:et,onContextMenu:ea,onMouseEnter:en,onMouseMove:eo,onMouseLeave:ei,onKeyDown:H?e=>{if(!U&&ab.includes(e.key)&&j){let{unselectNodesAndEdges:a,addSelectedEdges:n,edges:o}=J.getState();"Escape"===e.key?(W.current?.blur(),a({edges:[o.find(e=>e.id===t)]})):n([t])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===V?void 0:V||`Edge from ${x} to ${b}`,"aria-describedby":H?`${nN}-${B}`:void 0,ref:W},!G&&y.default.createElement(e,{id:t,source:x,target:b,selected:s,animated:l,label:d,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,data:o,style:m,sourceX:v,sourceY:w,targetX:N,targetY:S,sourcePosition:C,targetPosition:_,sourceHandleId:I,targetHandleId:E,markerStart:Q,markerEnd:ee,pathOptions:q,interactionWidth:X}),F&&y.default.createElement(y.default.Fragment,null,("source"===F||!0===F)&&y.default.createElement(og,{position:C,centerX:v,centerY:w,radius:T,onMouseDown:e=>er(e,!0),onMouseEnter:es,onMouseOut:el,type:"source"}),("target"===F||!0===F)&&y.default.createElement(og,{position:_,centerX:N,centerY:S,radius:T,onMouseDown:e=>er(e,!1),onMouseEnter:es,onMouseOut:el,type:"target"})))};return t.displayName="EdgeWrapper",(0,y.memo)(t)};function ox(e){let t={default:om(e.default||aV),straight:om(e.bezier||aD),step:om(e.step||aO),smoothstep:om(e.step||aP),simplebezier:om(e.simplebezier||aM)},a=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,a)=>(t[a]=om(e[a]||aV),t),{});return{...t,...a}}function oy(e,t,a=null){let n=(a?.x||0)+t.x,o=(a?.y||0)+t.y,i=a?.width||t.width,r=a?.height||t.height;switch(e){case h.Top:return{x:n+i/2,y:o};case h.Right:return{x:n+i,y:o+r/2};case h.Bottom:return{x:n+i/2,y:o+r};case h.Left:return{x:n,y:o+r/2}}}function of(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function ob(e){let t=e?.[af]?.handleBounds||null,a=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!a]}let ov=[{level:0,isMaxLevel:!0,edges:[]}],ow={[g.Arrow]:({color:e="none",strokeWidth:t=1})=>y.default.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[g.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>y.default.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},oN=({id:e,type:t,color:a,width:n=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:r,orient:s="auto-start-reverse"})=>{let l,d=(l=an(),(0,y.useMemo)(()=>{let e;return Object.prototype.hasOwnProperty.call(ow,t)?ow[t]:(l.getState().onError?.("009",(e=t,`Marker type "${e}" doesn't exist.`)),null)},[t]));return d?y.default.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0"},y.default.createElement(d,{color:a,strokeWidth:r})):null},oS=({defaultColor:e,rfId:t})=>{let a=aa((0,y.useCallback)((({defaultColor:e,rfId:t})=>a=>{let n=[];return a.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o&&"object"==typeof o){let i=aX(o,t);n.includes(i)||(a.push({id:i,color:o.color||e,...o}),n.push(i))}}),a),[]).sort((e,t)=>e.id.localeCompare(t.id))})({defaultColor:e,rfId:t}),[e,t]),(e,t)=>!(e.length!==t.length||e.some((e,a)=>e.id!==t[a].id)));return y.default.createElement("defs",null,a.map(e=>y.default.createElement(oN,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};oS.displayName="MarkerDefinitions";var oC=(0,y.memo)(oS);let o_=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),oj=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:a,rfId:n,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:r,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,children:v,disableKeyboardA11y:w})=>{let{edgesFocusable:N,edgesUpdatable:S,elementsSelectable:C,width:_,height:j,connectionMode:I,nodeInternals:E,onError:M}=aa(o_,k),z=function(e,t,a=!1){let n=-1,o=Object.entries(e.reduce((e,o)=>{let i=ay(o.zIndex),r=i?o.zIndex:0;if(a){let e=t.get(o.target),a=t.get(o.source),n=o.selected||e?.selected||a?.selected,s=Math.max(a?.[af]?.z||0,e?.[af]?.z||0,1e3);r=(i?o.zIndex:0)+(n?s:0)}return e[r]?e[r].push(o):e[r]=[o],n=r>n?r:n,e},{})).map(([e,t])=>{let a=+e;return{edges:t,level:a,isMaxLevel:a===n}});return 0===o.length?ov:o}(aa((0,y.useCallback)(e=>t?e.edges.filter(t=>{let a=E.get(t.source),n=E.get(t.target);return a?.width&&a?.height&&n?.width&&n?.height&&function({sourcePos:e,targetPos:t,sourceWidth:a,sourceHeight:n,targetWidth:o,targetHeight:i,width:r,height:s,transform:l}){let d={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+a,t.x+o),y2:Math.max(e.y+n,t.y+i)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);let u=ah({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:r/l[2],height:s/l[2]});return Math.ceil(Math.max(0,Math.min(u.x2,d.x2)-Math.max(u.x,d.x))*Math.max(0,Math.min(u.y2,d.y2)-Math.max(u.y,d.y)))>0}({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:n.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:n.width,targetHeight:n.height,width:e.width,height:e.height,transform:e.transform})}):e.edges,[t,E])),E,a);return _?y.default.createElement(y.default.Fragment,null,z.map(({level:t,edges:a,isMaxLevel:v})=>y.default.createElement("svg",{key:t,style:{zIndex:t},width:_,height:j,className:"react-flow__edges react-flow__container"},v&&y.default.createElement(oC,{defaultColor:e,rfId:n}),y.default.createElement("g",null,a.map(e=>{let t,a,v,[_,j,k]=ob(E.get(e.source)),[z,R,A]=ob(E.get(e.target));if(!k||!A)return null;let T=e.type||"default";o[T]||(M?.("011",(t=T,`Edge type "${t}" not found. Using fallback type "default".`)),T="default");let P=o[T]||o.default,O=I===d.Strict?R.target:(R.target??[]).concat(R.source??[]),D=of(j.source,e.sourceHandle),L=of(O,e.targetHandle),$=D?.position||h.Bottom,B=L?.position||h.Top,V=!!(e.focusable||N&&void 0===e.focusable),H=e.reconnectable||e.updatable;if(!D||!L){let t,a;return M?.("008",(t=D,a=e,`Couldn't create edge for ${!t?"source":"target"} handle id: "${!t?a.sourceHandle:a.targetHandle}", edge id: ${a.id}.`)),null}let{sourceX:F,sourceY:q,targetX:X,targetY:U}=(a=oy($,_,D),v=oy(B,z,L),{sourceX:a.x,sourceY:a.y,targetX:v.x,targetY:v.y});return y.default.createElement(P,{key:e.id,id:e.id,className:f([e.className,i]),type:T,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:F,sourceY:q,targetX:X,targetY:U,sourcePosition:$,targetPosition:B,elementsSelectable:C,onContextMenu:r,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,rfId:n,ariaLabel:e.ariaLabel,isFocusable:V,isReconnectable:void 0!==g&&(H||S&&void 0===H),pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:w})})))),v):null};oj.displayName="EdgeRenderer";var ok=(0,y.memo)(oj);let oI=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function oE({children:e}){let t=aa(oI);return y.default.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}let oM={[h.Left]:h.Right,[h.Right]:h.Left,[h.Top]:h.Bottom,[h.Bottom]:h.Top},oz=({nodeId:e,handleType:t,style:a,type:n=p.Bezier,CustomComponent:o,connectionStatus:i})=>{let{fromNode:r,handleId:s,toX:l,toY:u,connectionMode:c}=aa((0,y.useCallback)(t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[e]),k),g=r?.[af]?.handleBounds,h=g?.[t];if(c===d.Loose&&(h=h||g?.["source"===t?"target":"source"]),!r||!h)return null;let m=s?h.find(e=>e.id===s):h[0],x=m?m.x+m.width/2:(r.width??0)/2,f=m?m.y+m.height/2:r.height??0,b=(r.positionAbsolute?.x??0)+x,v=(r.positionAbsolute?.y??0)+f,w=m?.position,N=w?oM[w]:null;if(!w||!N)return null;if(o)return y.default.createElement(o,{connectionLineType:n,connectionLineStyle:a,fromNode:r,fromHandle:m,fromX:b,fromY:v,toX:l,toY:u,fromPosition:w,toPosition:N,connectionStatus:i});let S="",C={sourceX:b,sourceY:v,sourcePosition:w,targetX:l,targetY:u,targetPosition:N};return n===p.Bezier?[S]=aB(C):n===p.Step?[S]=aT({...C,borderRadius:0}):n===p.SmoothStep?[S]=aT(C):n===p.SimpleBezier?[S]=aE(C):S=`M${b},${v} ${l},${u}`,y.default.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:a})};oz.displayName="ConnectionLine";let oR=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oA({containerStyle:e,style:t,type:a,component:n}){let{nodeId:o,handleType:i,nodesConnectable:r,width:s,height:l,connectionStatus:d}=aa(oR,k);return o&&i&&s&&r?y.default.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},y.default.createElement("g",{className:f(["react-flow__connection",d])},y.default.createElement(oz,{nodeId:o,handleType:i,style:t,type:a,CustomComponent:n,connectionStatus:d}))):null}function oT(e,t){return(0,y.useRef)(null),an(),(0,y.useMemo)(()=>t(e),[e])}let oP=({nodeTypes:e,edgeTypes:t,onMove:a,onMoveStart:n,onMoveEnd:o,onInit:i,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:d,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:x,connectionLineType:f,connectionLineStyle:b,connectionLineComponent:v,connectionLineContainerStyle:w,selectionKeyCode:N,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:k,deleteKeyCode:I,onlyRenderVisibleElements:E,elementsSelectable:M,selectNodesOnDrag:z,defaultViewport:R,translateExtent:A,minZoom:T,maxZoom:P,preventScrolling:O,defaultMarkerColor:D,zoomOnScroll:L,zoomOnPinch:$,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:H,zoomOnDoubleClick:F,panOnDrag:q,onPaneClick:X,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:Y,onPaneScroll:Z,onPaneContextMenu:G,onEdgeContextMenu:K,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:ea,onReconnectEnd:en,reconnectRadius:eo,noDragClassName:ei,noWheelClassName:er,noPanClassName:es,elevateEdgesOnSelect:el,disableKeyboardA11y:ed,nodeOrigin:eu,nodeExtent:ec,rfId:ep})=>{let eg,eh,em=oT(e,ol),ex=oT(t,ox);return eg=nO(),eh=(0,y.useRef)(!1),(0,y.useEffect)(()=>{!eh.current&&eg.viewportInitialized&&i&&(setTimeout(()=>i(eg),1),eh.current=!0)},[i,eg.viewportInitialized]),y.default.createElement(os,{onPaneClick:X,onPaneMouseEnter:U,onPaneMouseMove:W,onPaneMouseLeave:Y,onPaneContextMenu:G,onPaneScroll:Z,deleteKeyCode:I,selectionKeyCode:N,selectionOnDrag:S,selectionMode:C,onSelectionStart:m,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:k,elementsSelectable:M,onMove:a,onMoveStart:n,onMoveEnd:o,zoomOnScroll:L,zoomOnPinch:$,zoomOnDoubleClick:F,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:H,panOnDrag:q,defaultViewport:R,translateExtent:A,minZoom:T,maxZoom:P,onSelectionContextMenu:h,preventScrolling:O,noDragClassName:ei,noWheelClassName:er,noPanClassName:es,disableKeyboardA11y:ed},y.default.createElement(oE,null,y.default.createElement(ok,{edgeTypes:ex,onEdgeClick:s,onEdgeDoubleClick:d,onlyRenderVisibleElements:E,onEdgeContextMenu:K,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:ea,onReconnectEnd:en,reconnectRadius:eo,defaultMarkerColor:D,noPanClassName:es,elevateEdgesOnSelect:!!el,disableKeyboardA11y:ed,rfId:ep},y.default.createElement(oA,{style:b,type:f,component:v,containerStyle:w})),y.default.createElement("div",{className:"react-flow__edgelabel-renderer"}),y.default.createElement(oc,{nodeTypes:em,onNodeClick:r,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:c,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:z,onlyRenderVisibleElements:E,noPanClassName:es,noDragClassName:ei,disableKeyboardA11y:ed,nodeOrigin:eu,nodeExtent:ec,rfId:ep})))};oP.displayName="GraphView";var oO=(0,y.memo)(oP);let oD=[[-1/0,-1/0],[1/0,1/0]],oL={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:oD,nodeExtent:oD,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:d.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:av,isValidConnection:void 0},o$=({children:e})=>{let t,a,n=(0,y.useRef)(null);return n.current||(t=(e,t)=>({...oL,setNodes:a=>{let{nodeInternals:n,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:nM(a,n,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:a=>{let{defaultEdgeOptions:n={}}=t();e({edges:a.map(e=>({...n,...e}))})},setDefaultNodesAndEdges:(a,n)=>{let o=void 0!==a,i=void 0!==n;e({nodeInternals:o?nM(a,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map,edges:i?n:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:a=>{let{onNodesChange:n,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:r,fitViewOnInitOptions:s,domNode:l,nodeOrigin:d}=t(),u=l?.querySelector(".react-flow__viewport");if(!u)return;let c=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(c.transform),g=a.reduce((e,t)=>{let a=o.get(t.id);if(a?.hidden)o.set(a.id,{...a,[af]:{...a[af],handleBounds:void 0}});else if(a){let n=al(t.nodeElement);n.width&&n.height&&(a.width!==n.width||a.height!==n.height||t.forceUpdate)&&(o.set(a.id,{...a,[af]:{...a[af],handleBounds:{source:n4(".source",t.nodeElement,p,d),target:n4(".target",t.nodeElement,p,d)}},...n}),e.push({id:a.id,type:"dimensions",dimensions:n}))}return e},[]);nE(o,d);let h=r||i&&!r&&nz(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:h}),g?.length>0&&n?.(g)},updateNodePositions:(e,a=!0,n=!1)=>{let{triggerNodeChanges:o}=t();o(e.map(e=>{let t={id:e.id,type:"position",dragging:n};return a&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:a=>{let{onNodesChange:n,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:r,getNodes:s,elevateNodesOnSelect:l}=t();a?.length&&(i&&e({nodeInternals:nM(nZ(a,s()),o,r,l)}),n?.(a))},addSelectedNodes:a=>{let n,{multiSelectionActive:o,edges:i,getNodes:r}=t(),s=null;o?n=a.map(e=>nG(e,!0)):(n=nK(r(),a),s=nK(i,[])),nR({changedNodes:n,changedEdges:s,get:t,set:e})},addSelectedEdges:a=>{let n,{multiSelectionActive:o,edges:i,getNodes:r}=t(),s=null;o?n=a.map(e=>nG(e,!0)):(n=nK(i,a),s=nK(r(),[])),nR({changedNodes:s,changedEdges:n,get:t,set:e})},unselectNodesAndEdges:({nodes:a,edges:n}={})=>{let{edges:o,getNodes:i}=t();nR({changedNodes:(a||i()).map(e=>(e.selected=!1,nG(e.id,!1))),changedEdges:(n||o).map(e=>nG(e.id,!1)),get:t,set:e})},setMinZoom:a=>{let{d3Zoom:n,maxZoom:o}=t();n?.scaleExtent([a,o]),e({minZoom:a})},setMaxZoom:a=>{let{d3Zoom:n,minZoom:o}=t();n?.scaleExtent([o,a]),e({maxZoom:a})},setTranslateExtent:a=>{t().d3Zoom?.translateExtent(a),e({translateExtent:a})},resetSelectedElements:()=>{let{edges:a,getNodes:n}=t();nR({changedNodes:n().filter(e=>e.selected).map(e=>nG(e.id,!1)),changedEdges:a.filter(e=>e.selected).map(e=>nG(e.id,!1)),get:t,set:e})},setNodeExtent:a=>{let{nodeInternals:n}=t();n.forEach(e=>{e.positionAbsolute=au(e.position,a)}),e({nodeExtent:a,nodeInternals:new Map(n)})},panBy:e=>{let{transform:a,width:n,height:o,d3Zoom:i,d3Selection:r,translateExtent:s}=t();if(!i||!r||!e.x&&!e.y)return!1;let l=tU.translate(a[0]+e.x,a[1]+e.y).scale(a[2]),d=i?.constrain()(l,[[0,0],[n,o]],s);return i.transform(r,d),a[0]!==d.x||a[1]!==d.y||a[2]!==d.k},cancelConnection:()=>e({connectionNodeId:oL.connectionNodeId,connectionHandleId:oL.connectionHandleId,connectionHandleType:oL.connectionHandleType,connectionStatus:oL.connectionStatus,connectionStartHandle:oL.connectionStartHandle,connectionEndHandle:oL.connectionEndHandle}),reset:()=>e({...oL})}),a=Object.is,n.current=t?j(t,a):j),y.default.createElement(ae,{value:n.current},e)};o$.displayName="ReactFlowProvider";let oB=({children:e})=>(0,y.useContext)(t9)?y.default.createElement(y.default.Fragment,null,e):y.default.createElement(o$,null,e);oB.displayName="ReactFlowWrapper";let oV={input:ni,default:nn,output:ns,group:nl},oH={default:aV,straight:aD,step:aO,smoothstep:aP,simplebezier:aM},oF=[0,0],oq=[15,15],oX={x:0,y:0,zoom:1},oU={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},oW=(0,y.forwardRef)(({nodes:e,edges:t,defaultNodes:a,defaultEdges:n,className:o,nodeTypes:i=oV,edgeTypes:r=oH,onNodeClick:s,onEdgeClick:l,onInit:g,onMove:h,onMoveStart:m,onMoveEnd:x,onConnect:b,onConnectStart:v,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:_,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:I,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:z,onNodesDelete:R,onEdgesDelete:A,onSelectionChange:T,onSelectionDragStart:P,onSelectionDrag:O,onSelectionDragStop:D,onSelectionContextMenu:L,onSelectionStart:$,onSelectionEnd:B,connectionMode:V=d.Strict,connectionLineType:H=p.Bezier,connectionLineStyle:F,connectionLineComponent:q,connectionLineContainerStyle:X,deleteKeyCode:U="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:Y=!1,selectionMode:Z=c.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:K=aS()?"Meta":"Control",zoomActivationKeyCode:J=aS()?"Meta":"Control",snapToGrid:Q=!1,snapGrid:ee=oq,onlyRenderVisibleElements:et=!1,selectNodesOnDrag:ea=!0,nodesDraggable:en,nodesConnectable:eo,nodesFocusable:ei,nodeOrigin:er=oF,edgesFocusable:es,edgesUpdatable:el,elementsSelectable:ed,defaultViewport:eu=oX,minZoom:ec=.5,maxZoom:ep=2,translateExtent:eg=oD,preventScrolling:eh=!0,nodeExtent:em,defaultMarkerColor:ex="#b1b1b7",zoomOnScroll:ey=!0,zoomOnPinch:ef=!0,panOnScroll:eb=!1,panOnScrollSpeed:ev=.5,panOnScrollMode:ew=u.Free,zoomOnDoubleClick:eN=!0,panOnDrag:eS=!0,onPaneClick:eC,onPaneMouseEnter:e_,onPaneMouseMove:ej,onPaneMouseLeave:ek,onPaneScroll:eI,onPaneContextMenu:eE,children:eM,onEdgeContextMenu:ez,onEdgeDoubleClick:eR,onEdgeMouseEnter:eA,onEdgeMouseMove:eT,onEdgeMouseLeave:eP,onEdgeUpdate:eO,onEdgeUpdateStart:eD,onEdgeUpdateEnd:eL,onReconnect:e$,onReconnectStart:eB,onReconnectEnd:eV,reconnectRadius:eH=10,edgeUpdaterRadius:eF=10,onNodesChange:eq,onEdgesChange:eX,noDragClassName:eU="nodrag",noWheelClassName:eW="nowheel",noPanClassName:eY="nopan",fitView:eZ=!1,fitViewOptions:eG,connectOnClick:eK=!0,attributionPosition:eJ,proOptions:eQ,defaultEdgeOptions:e0,elevateNodesOnSelect:e1=!0,elevateEdgesOnSelect:e2=!1,disableKeyboardA11y:e5=!1,autoPanOnConnect:e4=!0,autoPanOnNodeDrag:e3=!0,connectionRadius:e6=20,isValidConnection:e7,onError:e8,style:e9,id:te,nodeDragThreshold:tt,...ta},tn)=>{let to=te||"1";return y.default.createElement("div",{...ta,style:{...e9,...oU},ref:tn,className:f(["react-flow",o]),"data-testid":"rf__wrapper",id:te},y.default.createElement(oB,null,y.default.createElement(oO,{onInit:g,onMove:h,onMoveStart:m,onMoveEnd:x,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:C,onNodeMouseMove:_,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:I,nodeTypes:i,edgeTypes:r,connectionLineType:H,connectionLineStyle:F,connectionLineComponent:q,connectionLineContainerStyle:X,selectionKeyCode:W,selectionOnDrag:Y,selectionMode:Z,deleteKeyCode:U,multiSelectionKeyCode:K,panActivationKeyCode:G,zoomActivationKeyCode:J,onlyRenderVisibleElements:et,selectNodesOnDrag:ea,defaultViewport:eu,translateExtent:eg,minZoom:ec,maxZoom:ep,preventScrolling:eh,zoomOnScroll:ey,zoomOnPinch:ef,zoomOnDoubleClick:eN,panOnScroll:eb,panOnScrollSpeed:ev,panOnScrollMode:ew,panOnDrag:eS,onPaneClick:eC,onPaneMouseEnter:e_,onPaneMouseMove:ej,onPaneMouseLeave:ek,onPaneScroll:eI,onPaneContextMenu:eE,onSelectionContextMenu:L,onSelectionStart:$,onSelectionEnd:B,onEdgeContextMenu:ez,onEdgeDoubleClick:eR,onEdgeMouseEnter:eA,onEdgeMouseMove:eT,onEdgeMouseLeave:eP,onReconnect:e$??eO,onReconnectStart:eB??eD,onReconnectEnd:eV??eL,reconnectRadius:eH??eF,defaultMarkerColor:ex,noDragClassName:eU,noWheelClassName:eW,noPanClassName:eY,elevateEdgesOnSelect:e2,rfId:to,disableKeyboardA11y:e5,nodeOrigin:er,nodeExtent:em}),y.default.createElement(nf,{nodes:e,edges:t,defaultNodes:a,defaultEdges:n,onConnect:b,onConnectStart:v,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:S,nodesDraggable:en,nodesConnectable:eo,nodesFocusable:ei,edgesFocusable:es,edgesUpdatable:el,elementsSelectable:ed,elevateNodesOnSelect:e1,minZoom:ec,maxZoom:ep,nodeExtent:em,onNodesChange:eq,onEdgesChange:eX,snapToGrid:Q,snapGrid:ee,connectionMode:V,translateExtent:eg,connectOnClick:eK,defaultEdgeOptions:e0,fitView:eZ,fitViewOptions:eG,onNodesDelete:R,onEdgesDelete:A,onNodeDragStart:E,onNodeDrag:M,onNodeDragStop:z,onSelectionDrag:O,onSelectionDragStart:P,onSelectionDragStop:D,noPanClassName:eY,nodeOrigin:er,rfId:to,autoPanOnConnect:e4,autoPanOnNodeDrag:e3,onError:e8,connectionRadius:e6,isValidConnection:e7,nodeDragThreshold:tt}),y.default.createElement(nh,{onSelectionChange:T}),eM,y.default.createElement(ar,{proOptions:eQ,position:eJ}),y.default.createElement(n_,{rfId:to,disableKeyboardA11y:e5})))});function oY(e){return t=>{let[a,n]=(0,y.useState)(t),o=(0,y.useCallback)(t=>n(a=>e(t,a)),[]);return[a,n,o]}}oW.displayName="ReactFlow";let oZ=oY(nZ),oG=oY(function(e,t){return nY(e,t)});function oK({title:e,onInfo:t,onOptions:a,onTitleChange:n}){let[o,i]=(0,y.useState)(!1),[r,s]=(0,y.useState)(e),l=(0,y.useRef)(null),d=(0,y.useRef)(null);(0,y.useEffect)(()=>{s(e)},[e]),(0,y.useEffect)(()=>{o&&d.current&&(d.current.focus(),d.current.select())},[o]);let u=()=>{r.trim()&&n?n(r.trim()):s(e),i(!1)};return(0,x.jsxs)("div",{className:"flex items-center justify-between gap-1 mb-0.5 pb-0.5 border-b border-white/10 bg-black/20 -mx-2 -mt-1 px-1.5 pt-0.5 rounded-t",children:[o?(0,x.jsx)("input",{ref:d,type:"text",value:r,onChange:e=>s(e.target.value),onBlur:u,onKeyDown:t=>{t.stopPropagation(),"Enter"===t.key?u():"Escape"===t.key&&(s(e),i(!1))},className:"text-[10px] leading-tight font-medium text-gray-100 flex-1 min-w-0 bg-gray-900 border border-gray-600 rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-blue-500",onClick:e=>e.stopPropagation()}):(0,x.jsx)("div",{className:`text-[10px] leading-tight font-medium text-gray-100 truncate flex-1 min-w-0 ${n?"cursor-text hover:text-white":""}`,onClick:e=>{e.stopPropagation(),n&&i(!0)},title:n?"Click to edit title":e,children:e}),(0,x.jsxs)("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[t&&(0,x.jsx)("button",{onClick:e=>{e.stopPropagation(),t?.()},className:"w-3.5 h-3.5 flex items-center justify-center rounded hover:bg-white/10 transition-colors text-gray-300 hover:text-white","aria-label":"Show node information",title:"Show information",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-2.5 h-2.5",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",clipRule:"evenodd"})})}),a&&(0,x.jsx)("button",{ref:l,onClick:e=>{if(e.stopPropagation(),a&&l.current){let e=l.current.getBoundingClientRect();a(e.right,e.bottom)}},className:"w-3.5 h-3.5 flex items-center justify-center rounded hover:bg-white/10 transition-colors text-gray-300 hover:text-white","aria-label":"Show node options",title:"Show options",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-2.5 h-2.5",children:(0,x.jsx)("path",{d:"M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"})})})]})]})}function oJ({title:e,description:t,inputs:a=[],outputs:n=[],onClose:o}){let i=(0,y.useRef)(null);(0,y.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&o()},t=e=>{"Escape"===e.key&&o()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[o]);let r=(0,x.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[1px] flex items-center justify-center z-50",children:(0,x.jsxs)("div",{ref:i,className:"bg-gray-900 border border-gray-700 rounded-lg shadow-2xl overflow-hidden w-96",role:"dialog","aria-label":"Node information",children:[(0,x.jsxs)("div",{className:"flex items-start justify-between px-4 py-3 bg-gray-800 border-b border-gray-700",children:[(0,x.jsx)("h3",{className:"text-sm font-semibold text-white",children:e}),(0,x.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-200 transition-colors","aria-label":"Close",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,x.jsx)("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"})})})]}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsx)("p",{className:"text-xs text-gray-300 mb-3 leading-relaxed",children:t}),a.length>0&&(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h4",{className:"text-xs font-semibold text-gray-200 mb-1.5 px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:"Inputs"}),(0,x.jsx)("ul",{className:"text-xs text-gray-300 space-y-1 mt-1.5",children:a.map((e,t)=>(0,x.jsxs)("li",{className:"flex items-start gap-1.5",children:[(0,x.jsx)("span",{className:"text-blue-400 flex-shrink-0",children:""}),(0,x.jsx)("span",{children:e})]},t))})]}),n.length>0&&(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"text-xs font-semibold text-gray-200 mb-1.5 px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:"Outputs"}),(0,x.jsx)("ul",{className:"text-xs text-gray-300 space-y-1 mt-1.5",children:n.map((e,t)=>(0,x.jsxs)("li",{className:"flex items-start gap-1.5",children:[(0,x.jsx)("span",{className:"text-green-400 flex-shrink-0",children:""}),(0,x.jsx)("span",{children:e})]},t))})]})]})]})});return"undefined"!=typeof document?(0,t8.createPortal)(r,document.body):null}(s=m||(m={})).Line="line",s.Handle="handle";let oQ={width:0,height:0,x:0,y:0},o0={...oQ,pointerX:0,pointerY:0,aspectRatio:1};var o1=(0,y.memo)(function({nodeId:e,position:t,variant:a=m.Handle,className:n,style:o={},children:i,color:r,minWidth:s=10,minHeight:l=10,maxWidth:d=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:c=!1,shouldResize:p,onResizeStart:g,onResize:h,onResizeEnd:x}){let b=aq(),v="string"==typeof e?e:b,w=an(),N=(0,y.useRef)(null),S=(0,y.useRef)(o0),C=(0,y.useRef)(oQ),_=n7(),j=a===m.Line?"right":"bottom-right",k=t??j;(0,y.useEffect)(()=>{if(!N.current||!v)return;let e=eb(N.current),t=k.includes("right")||k.includes("left"),a=k.includes("bottom")||k.includes("top"),n=k.includes("left"),o=k.includes("top"),i=t7().on("start",e=>{let t=w.getState().nodeInternals.get(v),{xSnapped:a,ySnapped:n}=_(e);C.current={width:t?.width??0,height:t?.height??0,x:t?.position.x??0,y:t?.position.y??0},S.current={...C.current,pointerX:a,pointerY:n,aspectRatio:C.current.width/C.current.height},g?.(e,{...C.current})}).on("drag",e=>{let{nodeInternals:i,triggerNodeChanges:r}=w.getState(),{xSnapped:g,ySnapped:m}=_(e),x=i.get(v);if(x){let i=[],{pointerX:y,pointerY:f,width:b,height:w,x:N,y:_,aspectRatio:j}=S.current,{x:k,y:I,width:E,height:M}=C.current,z=Math.floor(t?g-y:0),R=Math.floor(a?m-f:0),A=ad(b+(n?-z:z),s,d),T=ad(w+(o?-R:R),l,u);if(c){let e=A/T,n=t&&a;A=e<=j&&n||a&&!t?T*j:A,T=e>j&&n||t&&!a?A/j:T,A>=d?(A=d,T=d/j):A<=s&&(A=s,T=s/j),T>=u?(T=u,A=u*j):T<=l&&(T=l,A=l*j)}let P=A!==E,O=T!==M;if(n||o){let e=n?N-(A-b):N,t=o?_-(T-w):_,a=e!==k&&P,r=t!==I&&O;if(a||r){let n={id:x.id,type:"position",position:{x:a?e:k,y:r?t:I}};i.push(n),C.current.x=n.position.x,C.current.y=n.position.y}}if(P||O){let e={id:v,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:A,height:T}};i.push(e),C.current.width=A,C.current.height=T}if(0===i.length)return;let D=function({width:e,prevWidth:t,height:a,prevHeight:n,invertX:o,invertY:i}){let r=e-t,s=a-n,l=[r>0?1:r<0?-1:0,s>0?1:s<0?-1:0];return r&&o&&(l[0]=-1*l[0]),s&&i&&(l[1]=-1*l[1]),l}({width:C.current.width,prevWidth:E,height:C.current.height,prevHeight:M,invertX:n,invertY:o}),L={...C.current,direction:D};if(!1===p?.(e,L))return;h?.(e,L),r(i)}}).on("end",e=>{x?.(e,{...C.current}),w.getState().triggerNodeChanges([{id:v,type:"dimensions",resizing:!1}])});return e.call(i),()=>{e.on(".drag",null)}},[v,k,s,l,d,u,c,_,g,h,x]);let I=k.split("-"),E=a===m.Line?"borderColor":"backgroundColor",M=r?{...o,[E]:r}:o;return y.default.createElement("div",{className:f(["react-flow__resize-control","nodrag",...I,a,n]),ref:N,style:M},i)});let o2=["top-left","top-right","bottom-left","bottom-right"],o5=["top","right","bottom","left"];function o4({nodeId:e,isVisible:t=!0,handleClassName:a,handleStyle:n,lineClassName:o,lineStyle:i,color:r,minWidth:s=10,minHeight:l=10,maxWidth:d=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:c=!1,shouldResize:p,onResizeStart:g,onResize:h,onResizeEnd:x}){return t?y.default.createElement(y.default.Fragment,null,o5.map(t=>y.default.createElement(o1,{key:t,className:o,style:i,nodeId:e,position:t,variant:m.Line,color:r,minWidth:s,minHeight:l,maxWidth:d,maxHeight:u,onResizeStart:g,keepAspectRatio:c,shouldResize:p,onResize:h,onResizeEnd:x})),o2.map(t=>y.default.createElement(o1,{key:t,className:a,style:n,nodeId:e,position:t,color:r,minWidth:s,minHeight:l,maxWidth:d,maxHeight:u,onResizeStart:g,keepAspectRatio:c,shouldResize:p,onResize:h,onResizeEnd:x}))):null}function o3({onResize:e,minWidth:t=150,minHeight:a=80,maxWidth:n=500,maxHeight:o=500}){let i=(0,y.useCallback)((t,a)=>{e&&e(a.width,a.height)},[e]);return(0,x.jsx)(o4,{minWidth:t,minHeight:a,maxWidth:n,maxHeight:o,onResize:i,lineClassName:"border-blue-400",handleClassName:"w-2 h-2 bg-blue-400 rounded-full"})}function o6({title:e,children:t,nodeInfo:a,onShowOptions:n,onTitleChange:o,className:i="",enableResize:r=!0,onOpenInfo:s}){let[l,d]=(0,y.useState)(!1),u=(0,y.useRef)(null),c=(0,y.useCallback)(()=>{s&&s(),d(!0)},[s]),p=(0,y.useCallback)(()=>{d(!1)},[]),g=(0,y.useCallback)((e,t)=>{if(u.current&&n){let e=u.current.getBoundingClientRect();n(e.left+e.width,t)}},[n]);return(0,x.jsxs)("div",{ref:u,className:`relative bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all ${i}`,children:[(0,x.jsxs)("div",{className:"px-2 py-1",children:[(0,x.jsx)(oK,{title:e,onInfo:a?c:void 0,onOptions:g,onTitleChange:o}),t]}),r&&(0,x.jsx)(o3,{}),l&&a&&(0,x.jsx)(oJ,{title:e,description:a.description,inputs:a.inputs,outputs:a.outputs,onClose:p})]})}let o7={numberNode:{description:"Input a numeric value that can be used in calculations and operations.",inputs:[],outputs:["Number value"]},textInputNode:{description:"Input text that can be processed, transformed, or concatenated with other text.",inputs:[],outputs:["Text string"]},opNode:{description:"Perform arithmetic operations on two numeric inputs. Supports addition, subtraction, multiplication, and division.",inputs:["First number","Second number"],outputs:["Result of operation"]},textOpNode:{description:"Transform text using various operations like uppercase, lowercase, title case, camel case, concatenation, and repetition.",inputs:["Text input(s)"],outputs:["Transformed text"]},httpNode:{description:"Make HTTP GET requests to external APIs and services. Returns the response data.",inputs:[],outputs:["HTTP response data"]},vizNode:{description:"Visualize data in different formats. Supports text and table display modes.",inputs:["Data to visualize"],outputs:[]},barChartNode:{description:"Create beautiful bar charts from array data. Supports vertical/horizontal orientation, customizable colors, bar widths, and value labels. Input should be an array of objects with 'label' and 'value' fields, or an array of numbers.",inputs:["Array data for chart"],outputs:["Chart visualization"]},conditionNode:{description:"Branch execution based on a condition. Supports comparison operators: >, <, >=, <=, ==, !=.",inputs:["Value to compare"],outputs:["True branch","False branch"]},filterNode:{description:"Filter JSON array elements based on expression. Use 'item.field' to access array element properties (e.g., item.age >= 18).",inputs:["Array to filter"],outputs:["Filtered array"]},forEachNode:{description:"Iterate over array elements with a configurable maximum iteration limit.",inputs:["Array or collection"],outputs:["Each array element"]},whileLoopNode:{description:"Loop while a condition is true, with a safety maximum iteration limit.",inputs:["Condition input"],outputs:["Loop output"]},switchNode:{description:"Multi-way branching based on input value. Routes execution to matching case or default path.",inputs:["Value to match"],outputs:["Multiple case outputs"]},parallelNode:{description:"Execute multiple operations concurrently with configurable concurrency limit.",inputs:["Operation inputs"],outputs:["Parallel results"]},joinNode:{description:"Combine multiple inputs using different strategies: all (wait for all), any (first available), or first (first to arrive).",inputs:["Multiple input streams"],outputs:["Joined result"]},splitNode:{description:"Distribute data to multiple downstream paths for parallel processing.",inputs:["Data to split"],outputs:["Multiple output paths"]},variableNode:{description:"Store and retrieve variables in workflow memory. Supports get and set operations.",inputs:["Value to store (for set)"],outputs:["Retrieved value (for get)"]},extractNode:{description:"Extract specific fields from objects or data structures.",inputs:["Object or data structure"],outputs:["Extracted fields"]},transformNode:{description:"Transform data structures between formats: to array, to object, flatten, extract keys, or extract values.",inputs:["Data to transform"],outputs:["Transformed data"]},parseNode:{description:"Parse string data into structured formats. Supports AUTO detection, JSON, CSV, TSV, YAML, and XML. AUTO mode intelligently detects the input format.",inputs:["String data to parse"],outputs:["Parsed structured data (object, array, primitive, etc.)"]},accumulatorNode:{description:"Accumulate values using operations: sum, product, concatenation, array building, or counting.",inputs:["Values to accumulate"],outputs:["Accumulated result"]},counterNode:{description:"Maintain a counter with operations: increment, decrement, reset, or get current value.",inputs:[],outputs:["Counter value"]},delayNode:{description:"Pause workflow execution for a specified duration (e.g., 1s, 100ms, 5m).",inputs:["Data to delay"],outputs:["Delayed data"]},cacheNode:{description:"Cache data with TTL (time-to-live). Supports get, set, and delete operations.",inputs:["Value to cache (for set)"],outputs:["Cached value (for get)"]},retryNode:{description:"Retry failed operations with configurable backoff strategies: exponential, linear, or constant delay.",inputs:["Operation to retry"],outputs:["Operation result or error"]},tryCatchNode:{description:"Handle errors gracefully with fallback logic. Continue workflow execution even when errors occur.",inputs:["Try branch operation"],outputs:["Success or fallback result"]},timeoutNode:{description:"Enforce time limits on operations. Can error or continue with partial results on timeout.",inputs:["Operation with time limit"],outputs:["Result or timeout error"]},contextVariableNode:{description:"Store and retrieve context variables that persist across workflow execution.",inputs:["Context value"],outputs:["Context data"]},contextConstantNode:{description:"Define constant values in the workflow context that cannot be modified during execution.",inputs:[],outputs:["Constant value"]},mapNode:{description:"Transform each element in an array using an expression. Similar to JavaScript's map() function.",inputs:["Array to map"],outputs:["Transformed array"]},reduceNode:{description:"Reduce array to a single value by applying an expression to accumulate results. Similar to JavaScript's reduce() function.",inputs:["Array to reduce"],outputs:["Reduced value"]},sliceNode:{description:"Extract a portion of an array from start to end index. Supports negative indices.",inputs:["Array to slice"],outputs:["Sliced array"]},sortNode:{description:"Sort array elements by a field in ascending or descending order.",inputs:["Array to sort"],outputs:["Sorted array"]},findNode:{description:"Find the first element in an array that matches the given expression.",inputs:["Array to search"],outputs:["Found element or null"]},flatMapNode:{description:"Map each element to an array and flatten the result by one level. Similar to JavaScript's flatMap() function.",inputs:["Array to flat map"],outputs:["Flattened array"]},groupByNode:{description:"Group array elements by a specified field, creating an object with grouped arrays.",inputs:["Array to group"],outputs:["Grouped object"]},uniqueNode:{description:"Remove duplicate elements from an array. Optionally specify a field for uniqueness comparison.",inputs:["Array with duplicates"],outputs:["Array with unique elements"]},chunkNode:{description:"Split an array into smaller arrays of specified size.",inputs:["Array to chunk"],outputs:["Array of chunks"]},reverseNode:{description:"Reverse the order of elements in an array.",inputs:["Array to reverse"],outputs:["Reversed array"]},partitionNode:{description:"Split an array into two groups based on whether elements match the given expression.",inputs:["Array to partition"],outputs:["Matching elements","Non-matching elements"]},zipNode:{description:"Combine two arrays element-wise into an array of pairs.",inputs:["First array","Second array"],outputs:["Zipped array of pairs"]},sampleNode:{description:"Randomly sample a specified number of elements from an array.",inputs:["Array to sample from"],outputs:["Sampled elements"]},rangeNode:{description:"Generate an array of numbers from start to end with an optional step value.",inputs:[],outputs:["Number range array"]},transposeNode:{description:"Transpose a 2D array (matrix), swapping rows and columns.",inputs:["2D array to transpose"],outputs:["Transposed array"]}};function o8({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.textInputNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Text Input"),nodeInfo:o,onShowOptions:a,className:"bg-gradient-to-br from-emerald-700 to-emerald-800 text-white shadow-lg rounded-lg border border-emerald-600 hover:border-emerald-500 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.text??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,text:a}}:t))},className:"w-36 text-xs border border-emerald-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-emerald-400 focus:outline-none",placeholder:"Enter text...","aria-label":"Text input value"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function o9({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.textOpNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Text Operation"),nodeInfo:o,onShowOptions:a,className:"bg-gradient-to-br from-emerald-600 to-emerald-700 text-white shadow-lg rounded-lg border border-emerald-500 hover:border-emerald-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("select",{value:String(t?.text_op??"uppercase"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,text_op:a}}:t))},className:"w-32 text-xs border border-emerald-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none","aria-label":"Text operation type",children:[(0,x.jsx)("option",{value:"uppercase",children:"Uppercase"}),(0,x.jsx)("option",{value:"lowercase",children:"Lowercase"}),(0,x.jsx)("option",{value:"titlecase",children:"Title Case"}),(0,x.jsx)("option",{value:"camelcase",children:"Camel Case"}),(0,x.jsx)("option",{value:"inversecase",children:"Inverse Case"}),(0,x.jsx)("option",{value:"concat",children:"Concatenate"}),(0,x.jsx)("option",{value:"repeat",children:"Repeat"})]}),t?.text_op==="concat"&&(0,x.jsx)("input",{value:String(t?.separator??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,separator:a}}:t))},className:"mt-1 w-32 text-xs border border-emerald-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-emerald-400 focus:outline-none",placeholder:"Separator...","aria-label":"Separator"}),t?.text_op==="repeat"&&(0,x.jsx)("input",{value:Number(t?.repeat_n??1),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,repeat_n:a}}:t))},className:"mt-1 w-32 text-xs border border-emerald-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-emerald-400 focus:outline-none",placeholder:"Repeat count...","aria-label":"Repeat count"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ie({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.httpNode;return(0,x.jsxs)(o6,{title:String(t?.label||"HTTP Request"),nodeInfo:o,onShowOptions:a,className:"bg-gradient-to-br from-purple-700 to-purple-800 text-white shadow-lg rounded-lg border border-purple-600 hover:border-purple-500 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.url??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,url:a}}:t))},className:"w-36 text-xs border border-purple-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-400 focus:outline-none",placeholder:"https://...","aria-label":"HTTP URL"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function it({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.conditionNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Condition"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-amber-600 to-amber-700 text-white shadow-lg rounded-lg border border-amber-500 hover:border-amber-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.condition??">0"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,condition:a}}:t))},className:"w-28 text-xs border border-amber-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-amber-400 focus:outline-none",placeholder:"node.id.value > 100","aria-label":"Condition expression"}),(0,x.jsx)(nt,{type:"source",position:h.Right,id:"true",style:{top:"30%"},className:"w-2 h-2 bg-green-500",title:"True path"}),(0,x.jsx)(nt,{type:"source",position:h.Right,id:"false",style:{top:"70%"},className:"w-2 h-2 bg-red-500",title:"False path"})]})}function ia({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.filterNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Filter"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-purple-600 to-purple-700 text-white shadow-lg rounded-lg border border-purple-500 hover:border-purple-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.condition??"item.age > 0"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,condition:a}}:t))},className:"w-32 text-xs border border-purple-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-400 focus:outline-none",placeholder:"item.age >= 18","aria-label":"Filter condition"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function io({id:e,data:t,...a}){let{setNodes:n}=nO(),o=o7.barChartNode,i=a.onShowOptions;return(0,x.jsxs)(o6,{title:String(t?.label||"Bar Chart"),nodeInfo:o,onShowOptions:i,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsxs)("select",{value:String(t?.orientation??"vertical"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,orientation:a}}:t))},className:"w-28 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none","aria-label":"Chart orientation",children:[(0,x.jsx)("option",{value:"vertical",children:"Vertical"}),(0,x.jsx)("option",{value:"horizontal",children:"Horizontal"})]}),(0,x.jsxs)("select",{value:String(t?.bar_width??"medium"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,bar_width:a}}:t))},className:"w-28 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none","aria-label":"Bar width",children:[(0,x.jsx)("option",{value:"thin",children:"Thin"}),(0,x.jsx)("option",{value:"medium",children:"Medium"}),(0,x.jsx)("option",{value:"thick",children:"Thick"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[(0,x.jsx)("input",{type:"color",value:String(t?.bar_color??"#3b82f6"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,bar_color:a}}:t))},className:"w-8 h-5 border border-gray-600 rounded bg-gray-900 cursor-pointer","aria-label":"Bar color"}),(0,x.jsx)("span",{className:"text-[9px] text-gray-400",children:"Color"})]}),(0,x.jsx)("input",{value:t?.max_bars??20,type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,max_bars:a}}:t))},className:"w-28 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-blue-400 focus:outline-none",placeholder:"Max bars",min:"1",max:"100","aria-label":"Maximum number of bars"}),(0,x.jsxs)("label",{className:"flex items-center gap-1",children:[(0,x.jsx)("input",{type:"checkbox",checked:t?.show_values??!0,onChange:t=>{let a=t.target.checked;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,show_values:a}}:t))},className:"w-3 h-3 text-blue-600 bg-gray-900 border-gray-600 rounded focus:ring-blue-500","aria-label":"Show values on bars"}),(0,x.jsx)("span",{className:"text-[9px] text-gray-300",children:"Show values"})]})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ii({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.forEachNode;return(0,x.jsxs)(o6,{title:String(t?.label||"For Each"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:Number(t?.max_iterations??1e3),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,max_iterations:a}}:t))},className:"w-20 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none",placeholder:"Max iter","aria-label":"Max iterations"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ir({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.whileLoopNode;return(0,x.jsxs)(o6,{title:String(t?.label||"While Loop"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,x.jsx)("input",{value:String(t?.condition??">0"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,condition:a}}:t))},className:"w-20 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-blue-400 focus:outline-none",placeholder:"Condition","aria-label":"Loop condition"}),(0,x.jsx)("input",{value:Number(t?.max_iterations??100),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,max_iterations:a}}:t))},className:"w-20 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none",placeholder:"Max iter","aria-label":"Max iterations"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function is({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.variableNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Variable"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,x.jsx)("input",{value:String(t?.var_name??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,var_name:a}}:t))},className:"w-16 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-blue-400 focus:outline-none",placeholder:"Name"}),(0,x.jsxs)("select",{value:String(t?.var_op??"get"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,var_op:a}}:t))},className:"w-12 text-[10px] leading-tight border border-gray-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"get",children:"Get"}),(0,x.jsx)("option",{value:"set",children:"Set"})]})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function il({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Extract")}),(0,x.jsx)("input",{value:String(t?.field??""),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,field:n}}:t))},className:"w-28 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Field name"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function id({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Transform")}),(0,x.jsxs)("select",{value:String(t?.transform_type??"to_array"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,transform_type:n}}:t))},className:"w-28 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"to_array",children:"To Array"}),(0,x.jsx)("option",{value:"to_object",children:"To Object"}),(0,x.jsx)("option",{value:"flatten",children:"Flatten"}),(0,x.jsx)("option",{value:"keys",children:"Keys"}),(0,x.jsx)("option",{value:"values",children:"Values"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iu({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gradient-to-br from-purple-700 to-purple-800 text-white shadow-lg rounded border border-purple-600 hover:border-purple-500 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-purple-100",children:String(t?.label||"Parse")}),(0,x.jsxs)("select",{value:String(t?.input_type??"AUTO"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,input_type:n}}:t))},className:"w-24 text-xs border border-purple-600 px-2 py-1 rounded bg-purple-900 text-white focus:ring-2 focus:ring-purple-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"AUTO",children:"Auto"}),(0,x.jsx)("option",{value:"JSON",children:"JSON"}),(0,x.jsx)("option",{value:"CSV",children:"CSV"}),(0,x.jsx)("option",{value:"TSV",children:"TSV"}),(0,x.jsx)("option",{value:"YAML",children:"YAML"}),(0,x.jsx)("option",{value:"XML",children:"XML"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ic({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Accumulator")}),(0,x.jsxs)("select",{value:String(t?.accum_op??"sum"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,accum_op:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"sum",children:"Sum"}),(0,x.jsx)("option",{value:"product",children:"Product"}),(0,x.jsx)("option",{value:"concat",children:"Concat"}),(0,x.jsx)("option",{value:"array",children:"Array"}),(0,x.jsx)("option",{value:"count",children:"Count"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ip({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Counter")}),(0,x.jsxs)("select",{value:String(t?.counter_op??"increment"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,counter_op:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"increment",children:"Increment"}),(0,x.jsx)("option",{value:"decrement",children:"Decrement"}),(0,x.jsx)("option",{value:"reset",children:"Reset"}),(0,x.jsx)("option",{value:"get",children:"Get"})]}),(t?.counter_op==="increment"||t?.counter_op==="decrement")&&(0,x.jsx)("input",{value:Number(t?.delta??1),type:"number",onChange:t=>{let n=Number(t.target.value);a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,delta:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Delta"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ig({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Switch")}),(0,x.jsx)("input",{value:String(t?.default_path??"default"),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,default_path:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Default path"}),(0,x.jsxs)("div",{className:"text-xs mt-1",children:["Cases: ",t?.cases?.length??0]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ih({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Parallel")}),(0,x.jsx)("input",{value:Number(t?.max_concurrency??10),type:"number",onChange:t=>{let n=Number(t.target.value);a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,max_concurrency:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Max concurrency"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function im({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Join")}),(0,x.jsxs)("select",{value:String(t?.join_strategy??"all"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,join_strategy:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"all",children:"All"}),(0,x.jsx)("option",{value:"any",children:"Any"}),(0,x.jsx)("option",{value:"first",children:"First"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ix({data:e}){return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(e?.label||"Split")}),(0,x.jsxs)("div",{className:"text-xs mt-1",children:["Paths: ",e?.paths?.length??2]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iy({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Delay")}),(0,x.jsx)("input",{value:String(t?.duration??"1s"),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,duration:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"1s, 100ms..."}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ib({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Cache")}),(0,x.jsxs)("select",{value:String(t?.cache_op??"get"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,cache_op:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"get",children:"Get"}),(0,x.jsx)("option",{value:"set",children:"Set"}),(0,x.jsx)("option",{value:"delete",children:"Delete"})]}),(0,x.jsx)("input",{value:String(t?.cache_key??""),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,cache_key:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Cache key"}),t?.cache_op==="set"&&(0,x.jsx)("input",{value:String(t?.ttl??"5m"),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,ttl:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"TTL (5m, 1h)"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iv({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Retry")}),(0,x.jsx)("input",{value:Number(t?.max_attempts??3),type:"number",onChange:t=>{let n=Number(t.target.value);a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,max_attempts:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Max attempts"}),(0,x.jsxs)("select",{value:String(t?.backoff_strategy??"exponential"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,backoff_strategy:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"exponential",children:"Exponential"}),(0,x.jsx)("option",{value:"linear",children:"Linear"}),(0,x.jsx)("option",{value:"constant",children:"Constant"})]}),(0,x.jsx)("input",{value:String(t?.initial_delay??"1s"),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,initial_delay:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Initial delay"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iw({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Try-Catch")}),(0,x.jsxs)("label",{className:"flex items-center gap-1 mt-1",children:[(0,x.jsx)("input",{type:"checkbox",checked:t?.continue_on_error??!0,onChange:t=>{let n=t.target.checked;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,continue_on_error:n}}:t))},className:"text-sm"}),(0,x.jsx)("span",{className:"text-xs",children:"Continue on error"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iN({id:e,data:t}){let{setNodes:a}=nO();return(0,x.jsxs)("div",{className:"px-2 py-1 bg-gray-800 text-white shadow-lg rounded border border-gray-700 hover:border-gray-600 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs font-semibold mb-1 text-gray-200",children:String(t?.label||"Timeout")}),(0,x.jsx)("input",{value:String(t?.timeout??"30s"),type:"text",onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,timeout:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"30s, 5m..."}),(0,x.jsxs)("select",{value:String(t?.timeout_action??"error"),onChange:t=>{let n=t.target.value;a(t=>t.map(t=>t.id===e?{...t,data:{...t.data,timeout_action:n}}:t))},className:"w-24 text-xs border border-gray-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"error",children:"Error"}),(0,x.jsx)("option",{value:"continue_with_partial",children:"Continue with partial"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iS({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.mapNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Map"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-cyan-600 to-cyan-700 text-white shadow-lg rounded-lg border border-cyan-500 hover:border-cyan-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.expression??"item * 2"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,expression:a}}:t))},className:"w-32 text-xs border border-cyan-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-cyan-400 focus:outline-none",placeholder:"item * 2","aria-label":"Map expression"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iC({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.reduceNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Reduce"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-teal-600 to-teal-700 text-white shadow-lg rounded-lg border border-teal-500 hover:border-teal-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,x.jsx)("input",{value:String(t?.expression??"acc + item"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,expression:a}}:t))},className:"w-32 text-[10px] leading-tight border border-teal-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-teal-400 focus:outline-none",placeholder:"acc + item","aria-label":"Reduce expression"}),(0,x.jsx)("input",{value:String(t?.initial_value??"0"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,initial_value:a}}:t))},className:"w-32 text-[10px] leading-tight border border-teal-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-teal-400 focus:outline-none",placeholder:"Initial: 0","aria-label":"Initial value"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function i_({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.sliceNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Slice"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-emerald-600 to-emerald-700 text-white shadow-lg rounded-lg border border-emerald-500 hover:border-emerald-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,x.jsx)("input",{value:Number(t?.start??0),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,start:a}}:t))},className:"w-14 text-[10px] leading-tight border border-emerald-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-emerald-400 focus:outline-none",placeholder:"Start","aria-label":"Start index"}),(0,x.jsx)("span",{className:"text-[10px]",children:"to"}),(0,x.jsx)("input",{value:Number(t?.end??-1),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,end:a}}:t))},className:"w-14 text-[10px] leading-tight border border-emerald-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-emerald-400 focus:outline-none",placeholder:"End","aria-label":"End index"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ij({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.sortNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Sort"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-lime-600 to-lime-700 text-white shadow-lg rounded-lg border border-lime-500 hover:border-lime-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,x.jsx)("input",{value:String(t?.field??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,field:a}}:t))},className:"w-16 text-[10px] leading-tight border border-lime-600 px-1 py-0.5 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-1 focus:ring-lime-400 focus:outline-none",placeholder:"Field","aria-label":"Sort field"}),(0,x.jsxs)("select",{value:String(t?.order??"asc"),onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,order:a}}:t))},className:"w-14 text-[10px] leading-tight border border-lime-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-lime-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"asc",children:"Asc"}),(0,x.jsx)("option",{value:"desc",children:"Desc"})]})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function ik({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.findNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Find"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-sky-600 to-sky-700 text-white shadow-lg rounded-lg border border-sky-500 hover:border-sky-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.expression??"item.id == 1"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,expression:a}}:t))},className:"w-32 text-xs border border-sky-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-sky-400 focus:outline-none",placeholder:"item.id == 1","aria-label":"Find expression"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iI({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.flatMapNode;return(0,x.jsxs)(o6,{title:String(t?.label||"FlatMap"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-indigo-600 to-indigo-700 text-white shadow-lg rounded-lg border border-indigo-500 hover:border-indigo-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.expression??"item.values"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,expression:a}}:t))},className:"w-32 text-xs border border-indigo-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"item.values","aria-label":"FlatMap expression"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iE({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.groupByNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Group By"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-violet-600 to-violet-700 text-white shadow-lg rounded-lg border border-violet-500 hover:border-violet-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.key_field??"category"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,key_field:a}}:t))},className:"w-32 text-xs border border-violet-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-violet-400 focus:outline-none",placeholder:"category","aria-label":"Group by field"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iM({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.uniqueNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Unique"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-fuchsia-600 to-fuchsia-700 text-white shadow-lg rounded-lg border border-fuchsia-500 hover:border-fuchsia-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.by_field??""),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,by_field:a}}:t))},className:"w-32 text-xs border border-fuchsia-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-fuchsia-400 focus:outline-none",placeholder:"Field (optional)","aria-label":"Unique by field"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iz({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.chunkNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Chunk"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-pink-600 to-pink-700 text-white shadow-lg rounded-lg border border-pink-500 hover:border-pink-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:Number(t?.size??3),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,size:a}}:t))},className:"w-20 text-xs border border-pink-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-pink-400 focus:outline-none",placeholder:"Size","aria-label":"Chunk size"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iR({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.reverseNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Reverse"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-rose-600 to-rose-700 text-white shadow-lg rounded-lg border border-rose-500 hover:border-rose-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs py-1",children:"Reverse array order"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iA({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.partitionNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Partition"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-orange-600 to-orange-700 text-white shadow-lg rounded-lg border border-orange-500 hover:border-orange-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:String(t?.expression??"item > 0"),type:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,expression:a}}:t))},className:"w-32 text-xs border border-orange-600 px-2 py-1 rounded bg-gray-900 text-white placeholder-gray-500 focus:ring-2 focus:ring-orange-400 focus:outline-none",placeholder:"item > 0","aria-label":"Partition expression"}),(0,x.jsx)(nt,{type:"source",position:h.Right,id:"true",style:{top:"30%"},className:"w-2 h-2 bg-green-500",title:"Match path"}),(0,x.jsx)(nt,{type:"source",position:h.Right,id:"false",style:{top:"70%"},className:"w-2 h-2 bg-red-500",title:"No match path"})]})}function iT({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.zipNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Zip"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-yellow-600 to-yellow-700 text-white shadow-lg rounded-lg border border-yellow-500 hover:border-yellow-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,id:"array1",style:{top:"30%"},className:"w-2 h-2 bg-blue-400",title:"First array"}),(0,x.jsx)(nt,{type:"target",position:h.Left,id:"array2",style:{top:"70%"},className:"w-2 h-2 bg-blue-400",title:"Second array"}),(0,x.jsx)("div",{className:"text-xs py-1",children:"Combine arrays"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iP({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.sampleNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Sample"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-blue-600 to-blue-700 text-white shadow-lg rounded-lg border border-blue-500 hover:border-blue-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:Number(t?.count??1),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,count:a}}:t))},className:"w-20 text-xs border border-blue-600 px-2 py-1 rounded bg-gray-900 text-white focus:ring-2 focus:ring-blue-400 focus:outline-none",placeholder:"Count","aria-label":"Sample count"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iO({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.rangeNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Range"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-green-600 to-green-700 text-white shadow-lg rounded-lg border border-green-500 hover:border-green-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,x.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,x.jsx)("input",{value:Number(t?.start??0),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,start:a}}:t))},className:"w-12 text-[10px] leading-tight border border-green-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-green-400 focus:outline-none",placeholder:"Start","aria-label":"Start value"}),(0,x.jsx)("span",{className:"text-[10px]",children:"to"}),(0,x.jsx)("input",{value:Number(t?.end??10),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,end:a}}:t))},className:"w-12 text-[10px] leading-tight border border-green-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-green-400 focus:outline-none",placeholder:"End","aria-label":"End value"})]}),(0,x.jsx)("input",{value:Number(t?.step??1),type:"number",onChange:t=>{let a=Number(t.target.value);n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,step:a}}:t))},className:"w-full text-[10px] leading-tight border border-green-600 px-1 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-green-400 focus:outline-none",placeholder:"Step: 1","aria-label":"Step value"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iD({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.transposeNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Transpose"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},className:"bg-gradient-to-br from-red-600 to-red-700 text-white shadow-lg rounded-lg border border-red-500 hover:border-red-400 transition-all",children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("div",{className:"text-xs py-1",children:"Transpose matrix"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iL({x:e,y:t,onClose:a,onDelete:n,onDuplicate:o,onCopy:i}){let r=(0,y.useRef)(null);return(0,y.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&a()},t=e=>{"Escape"===e.key&&a()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[a]),(0,x.jsxs)("div",{ref:r,className:"fixed bg-gray-800 border border-gray-700 rounded-lg shadow-2xl py-1 z-50 min-w-[160px]",style:{left:e,top:t},role:"menu",children:[o&&(0,x.jsxs)("button",{onClick:()=>{o(),a()},className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors flex items-center gap-2",role:"menuitem",children:[(0,x.jsx)("span",{children:""}),(0,x.jsx)("span",{children:"Duplicate"})]}),i&&(0,x.jsxs)("button",{onClick:()=>{i(),a()},className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors flex items-center gap-2",role:"menuitem",children:[(0,x.jsx)("span",{children:""}),(0,x.jsx)("span",{children:"Copy"})]}),(o||i)&&(0,x.jsx)("div",{className:"border-t border-gray-700 my-1"}),(0,x.jsxs)("button",{onClick:()=>{n(),a()},className:"w-full px-3 py-2 text-left text-sm text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors flex items-center gap-2",role:"menuitem",children:[(0,x.jsx)("span",{children:""}),(0,x.jsx)("span",{children:"Delete"})]})]})}function i$({nodeName:e,onConfirm:t,onCancel:a}){let n=(0,y.useRef)(null);return(0,y.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),(0,x.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,x.jsxs)("div",{ref:n,className:"bg-gray-800 border border-gray-700 rounded-xl p-6 w-96 shadow-2xl",role:"dialog","aria-labelledby":"delete-dialog-title","aria-describedby":"delete-dialog-description",children:[(0,x.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,x.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6 text-red-500",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495ZM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})})}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("h3",{id:"delete-dialog-title",className:"text-lg font-semibold text-gray-200 mb-1",children:"Delete Node"}),(0,x.jsxs)("p",{id:"delete-dialog-description",className:"text-sm text-gray-400",children:['Are you sure you want to delete "',e,'"? This action cannot be undone.']})]})]}),(0,x.jsxs)("div",{className:"flex gap-3",children:[(0,x.jsx)("button",{onClick:a,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,x.jsx)("button",{onClick:t,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-red-500",autoFocus:!0,children:"Delete"})]})]})})}var iB=e.i(21660);function iV({workflowTitle:e,onTitleChange:t,onSave:a,onShowJSON:n,onDelete:o,onRun:i,onExport:r,onImport:s,hasUnsavedChanges:l=!1}){let[d,u]=(0,y.useState)(!1),[c,p]=(0,y.useState)(e),g=(0,y.useRef)(null),h=(0,y.useRef)(null);(0,y.useEffect)(()=>{d&&g.current&&(g.current.focus(),g.current.select())},[d]),(0,y.useEffect)(()=>{p(e)},[e]);let m=()=>{c.trim()?t(c.trim()):p(e),u(!1)};return(0,x.jsxs)("div",{className:"h-12 bg-gray-950 border-b border-gray-800 flex items-center justify-between px-4",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[d?(0,x.jsx)("input",{ref:g,type:"text",value:c,onChange:e=>p(e.target.value),onBlur:m,onKeyDown:t=>{"Enter"===t.key?m():"Escape"===t.key&&(p(e),u(!1))},className:"px-2 py-1 bg-gray-800 border border-gray-600 rounded text-white text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[200px]","aria-label":"Workflow title"}):(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)("button",{onClick:()=>u(!0),className:"px-2 py-1 text-white text-sm font-medium hover:bg-gray-800 rounded transition-colors flex items-center gap-2 group",title:"Click to edit workflow title","aria-label":"Edit workflow title",children:[(0,x.jsx)("span",{children:e}),(0,x.jsx)("span",{className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),(0,x.jsx)("button",{onClick:o,className:"p-1.5 hover:bg-gray-800 text-red-400 hover:text-red-300 rounded transition-all",title:"Delete Workflow","aria-label":"Delete Workflow",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.713Z",clipRule:"evenodd"})})})]}),l&&(0,x.jsxs)("span",{className:"text-xs text-yellow-500 flex items-center gap-1",children:[(0,x.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),"Unsaved changes"]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)("button",{onClick:a,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-all text-sm font-medium flex items-center gap-1.5",title:"Save Workflow (Ctrl+S)","aria-label":"Save Workflow",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M13.78 2.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 7.28a.75.75 0 0 1 1.06-1.06L6 8.94l6.72-6.72a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),(0,x.jsx)("span",{children:"Save"})]}),(0,x.jsxs)("button",{onClick:r,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-all text-sm font-medium flex items-center gap-1.5",title:"Export Workflow as JSON","aria-label":"Export Workflow",children:[(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:[(0,x.jsx)("path",{d:"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"}),(0,x.jsx)("path",{d:"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"})]}),(0,x.jsx)("span",{children:"Export"})]}),(0,x.jsxs)("button",{onClick:()=>{h.current?.click()},className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-all text-sm font-medium flex items-center gap-1.5",title:"Import Workflow from JSON","aria-label":"Import Workflow",children:[(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:[(0,x.jsx)("path",{d:"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"}),(0,x.jsx)("path",{d:"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"})]}),(0,x.jsx)("span",{children:"Import"})]}),(0,x.jsx)("input",{ref:h,type:"file",accept:".json,application/json",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let a=new FileReader;a.onload=e=>{try{let t=JSON.parse(e.target?.result);t.nodes&&t.edges&&Array.isArray(t.nodes)&&Array.isArray(t.edges)?s(t):alert('Invalid workflow file format. Expected JSON with "nodes" and "edges" arrays.')}catch{alert("Failed to parse JSON file. Please ensure it is a valid JSON workflow file.")}},a.readAsText(t),h.current&&(h.current.value="")},className:"hidden","aria-label":"Import workflow file"}),(0,x.jsxs)("button",{onClick:n,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-all text-sm font-medium flex items-center gap-1.5",title:"Show JSON Payload","aria-label":"Show JSON Payload",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 0 0 3 3.5v9A1.5 1.5 0 0 0 4.5 14h7a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 11.5 2h-7Zm.75 3.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5ZM5.25 9a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5H6A.75.75 0 0 1 5.25 9Z",clipRule:"evenodd"})}),(0,x.jsx)("span",{children:"JSON"})]}),(0,x.jsxs)("button",{onClick:i,className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded transition-all flex items-center gap-1.5 shadow-sm hover:shadow-md",title:"Run Workflow","aria-label":"Run Workflow",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,x.jsx)("path",{d:"M3 3.732a1.5 1.5 0 0 1 2.305-1.265l6.706 4.267a1.5 1.5 0 0 1 0 2.531l-6.706 4.268A1.5 1.5 0 0 1 3 12.267V3.732Z"})}),(0,x.jsx)("span",{children:"Run"})]})]})]})}function iH({nodeCount:e,edgeCount:t,selectedCount:a=0}){return(0,x.jsxs)("div",{className:"h-7 bg-gray-900 border-t border-gray-800 flex items-center justify-between px-4 text-xs text-gray-400",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4",children:[(0,x.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,x.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),(0,x.jsxs)("span",{children:[e," nodes"]})]}),(0,x.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,x.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,x.jsxs)("span",{children:[t," connections"]})]}),a>0&&(0,x.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,x.jsx)("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,x.jsxs)("span",{children:[a," selected"]})]})]}),(0,x.jsx)("div",{className:"flex items-center gap-2 text-gray-500",children:(0,x.jsx)("span",{children:"Ready"})})]})}function iF({isOpen:e,onClose:t,categories:a,onAddNode:n}){let[o,i]=(0,y.useState)(""),[r,s]=(0,y.useState)(new Set(a.map(e=>e.name))),l=(0,y.useRef)(null),d=(0,y.useRef)(null);(0,y.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()},n=a=>{e&&d.current&&!d.current.contains(a.target)&&t()};return e&&(document.addEventListener("keydown",a),document.addEventListener("mousedown",n),setTimeout(()=>l.current?.focus(),100)),()=>{document.removeEventListener("keydown",a),document.removeEventListener("mousedown",n)}},[e,t]);let u=a.map(e=>({...e,nodes:e.nodes.filter(e=>e.label.toLowerCase().includes(o.toLowerCase())||e.type.toLowerCase().includes(o.toLowerCase()))})).filter(e=>e.nodes.length>0);return e?(0,x.jsxs)("div",{ref:d,className:"absolute left-4 bottom-12 z-10 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl max-h-[calc(100vh-200px)] overflow-hidden w-64 flex flex-col",children:[(0,x.jsxs)("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-700 p-3",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,x.jsx)("div",{className:"text-sm font-bold text-white",children:"Add Nodes"}),(0,x.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",title:"Close (ESC)",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,x.jsx)("input",{ref:l,type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Search nodes...",className:"w-full px-3 py-1.5 text-sm bg-gray-800 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,x.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===u.length?(0,x.jsxs)("div",{className:"p-4 text-center text-gray-500 text-sm",children:["No nodes found matching ",o,""]}):u.map(e=>(0,x.jsxs)("div",{className:"border-b border-gray-800 last:border-b-0",children:[(0,x.jsxs)("button",{onClick:()=>{var t;return t=e.name,void s(e=>{let a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})},className:"w-full p-3 flex items-center justify-between hover:bg-gray-800 transition-colors",children:[(0,x.jsx)("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide",children:e.name}),(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:`w-4 h-4 text-gray-500 transition-transform ${r.has(e.name)?"rotate-180":""}`,children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),r.has(e.name)&&(0,x.jsx)("div",{className:"px-3 pb-3 flex flex-col gap-1",children:e.nodes.map(e=>(0,x.jsxs)("button",{onClick:()=>{n(e.type,e.defaultData),i(""),t()},className:"bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded text-sm transition-all text-left flex items-center gap-2",children:[(0,x.jsx)("span",{className:"text-xs",children:"+"}),(0,x.jsx)("span",{children:e.label})]},e.type))})]},e.name))}),(0,x.jsxs)("div",{className:"border-t border-gray-800 px-3 py-2 text-xs text-gray-500",children:["Press ",(0,x.jsx)("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded",children:"ESC"})," to close"]})]}):null}function iq({isOpen:e,onClose:t,payload:a,workflowTitle:n="workflow"}){let o=(0,y.useRef)(null);if((0,y.useEffect)(()=>{let a=e=>{"Escape"===e.key&&t()},n=e=>{o.current&&!o.current.contains(e.target)&&t()};return e&&(document.addEventListener("keydown",a),document.addEventListener("mousedown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.removeEventListener("mousedown",n),document.body.style.overflow=""}},[e,t]),!e)return null;let i=JSON.stringify(a,null,2);return(0,x.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{ref:o,className:"bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[85vh] flex flex-col overflow-hidden",children:[(0,x.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between bg-gray-800/50",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("span",{className:"text-2xl",children:""}),(0,x.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Workflow JSON Payload"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)("button",{onClick:()=>{let e=new Blob([i],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t;let o=n.replace(/[^a-z0-9]/gi,"_").toLowerCase();a.download=`${o}_workflow.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2",title:"Export to JSON file","aria-label":"Export to JSON file",children:[(0,x.jsx)("span",{children:""}),(0,x.jsx)("span",{children:"Export"})]}),(0,x.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(i)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2",title:"Copy to Clipboard","aria-label":"Copy to Clipboard",children:[(0,x.jsx)("span",{children:""}),(0,x.jsx)("span",{children:"Copy"})]}),(0,x.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded-lg transition-colors",title:"Close (ESC)","aria-label":"Close modal",children:""})]})]}),(0,x.jsx)("div",{className:"flex-1 overflow-auto p-6 custom-scrollbar",children:(0,x.jsx)("pre",{className:"text-sm text-gray-300 font-mono leading-relaxed bg-gray-950 p-4 rounded-lg border border-gray-800",children:i})}),(0,x.jsxs)("div",{className:"px-6 py-3 border-t border-gray-700 bg-gray-800/50 flex items-center justify-between text-xs text-gray-500",children:[(0,x.jsxs)("span",{children:[a&&"nodes"in a&&Array.isArray(a.nodes)?`${a.nodes.length} nodes`:"0 nodes","  ",a&&"edges"in a&&Array.isArray(a.edges)?`${a.edges.length} connections`:"0 connections"]}),(0,x.jsx)("span",{children:"Press ESC to close"})]})]})})}let iX=[{id:"example-1",title:"Simple API Call",description:"Make a basic HTTP GET request to fetch data from an API endpoint and display the results.",tags:["api","http","get","basic"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-2",title:"API Call with Retry Logic",description:"Make an HTTP request with automatic retry mechanism in case of failures. Implements exponential backoff strategy.",tags:["api","http","retry","error-handling"],nodes:[{id:"1",type:"retryNode",position:{x:100,y:100},data:{max_attempts:3,backoff_strategy:"exponential",initial_delay:"1s",label:"Retry Handler"}},{id:"2",type:"httpNode",position:{x:300,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"3",type:"vizNode",position:{x:500,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-3",title:"API Call with Timeout",description:"Execute an HTTP request with a timeout protection to prevent hanging requests. Falls back gracefully on timeout.",tags:["api","http","timeout","error-handling"],nodes:[{id:"1",type:"timeoutNode",position:{x:100,y:100},data:{timeout:"30s",timeout_action:"error",label:"Timeout Protection"}},{id:"2",type:"httpNode",position:{x:300,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"3",type:"vizNode",position:{x:500,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-4",title:"POST Request with JSON Payload",description:"Send data to an API endpoint using POST method with JSON body. Handles response and error codes appropriately.",tags:["api","http","post","json"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:'{"name": "John"}',label:"JSON Payload"}},{id:"2",type:"parseNode",position:{x:250,y:100},data:{input_type:"JSON",label:"Parse JSON"}},{id:"3",type:"httpNode",position:{x:450,y:100},data:{url:"https://api.example.com/users",method:"POST",label:"POST Request"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Response"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-5",title:"API Authentication Flow",description:"Implement OAuth 2.0 authentication flow with token refresh. Securely manages access tokens and handles expiration.",tags:["api","http","auth","oauth"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://auth.example.com/token",method:"POST",label:"Get Token"}},{id:"2",type:"extractNode",position:{x:300,y:100},data:{field:"access_token",label:"Extract Token"}},{id:"3",type:"variableNode",position:{x:500,y:100},data:{var_name:"auth_token",var_op:"set",label:"Store Token"}},{id:"4",type:"vizNode",position:{x:700,y:100},data:{mode:"text",label:"Success"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-6",title:"Parallel API Calls",description:"Execute multiple API requests in parallel for improved performance. Aggregates results from multiple endpoints.",tags:["api","http","parallel","performance"],nodes:[{id:"1",type:"parallelNode",position:{x:100,y:150},data:{max_concurrency:3,label:"Parallel Execute"}},{id:"2",type:"httpNode",position:{x:300,y:50},data:{url:"https://api.example.com/endpoint1",method:"GET",label:"API 1"}},{id:"3",type:"httpNode",position:{x:300,y:150},data:{url:"https://api.example.com/endpoint2",method:"GET",label:"API 2"}},{id:"4",type:"httpNode",position:{x:300,y:250},data:{url:"https://api.example.com/endpoint3",method:"GET",label:"API 3"}},{id:"5",type:"joinNode",position:{x:500,y:150},data:{join_strategy:"all",label:"Join Results"}},{id:"6",type:"vizNode",position:{x:700,y:150},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e1-3",source:"1",target:"3"},{id:"e1-4",source:"1",target:"4"},{id:"e2-5",source:"2",target:"5"},{id:"e3-5",source:"3",target:"5"},{id:"e4-5",source:"4",target:"5"},{id:"e5-6",source:"5",target:"6"}]},{id:"example-7",title:"API Rate Limiting Handler",description:"Implement rate limiting logic to comply with API quotas. Handles 429 responses and implements exponential backoff.",tags:["api","http","rate-limiting","error-handling"],nodes:[{id:"1",type:"retryNode",position:{x:100,y:100},data:{max_attempts:5,backoff_strategy:"exponential",initial_delay:"2s",label:"Retry Logic"}},{id:"2",type:"delayNode",position:{x:300,y:100},data:{duration:"1s",label:"Delay"}},{id:"3",type:"httpNode",position:{x:500,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"4",type:"vizNode",position:{x:700,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-8",title:"REST API CRUD Operations",description:"Complete CRUD workflow demonstrating Create, Read, Update, Delete operations on a REST API resource.",tags:["api","http","crud","rest"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-9",title:"GraphQL Query Execution",description:"Execute GraphQL queries with variables and fragments. Handles complex nested data structures.",tags:["api","http","graphql","query"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-10",title:"API Response Caching",description:"Cache API responses to reduce redundant calls and improve performance. Implements TTL-based invalidation.",tags:["api","http","cache","performance"],nodes:[{id:"1",type:"cacheNode",position:{x:100,y:100},data:{cache_op:"get",cache_key:"api_data",label:"Check Cache"}},{id:"2",type:"conditionNode",position:{x:300,y:100},data:{condition:"== null",label:"Cache Miss?"}},{id:"3",type:"httpNode",position:{x:500,y:50},data:{url:"https://api.example.com/data",method:"GET",label:"Fetch from API"}},{id:"4",type:"cacheNode",position:{x:700,y:50},data:{cache_op:"set",cache_key:"api_data",label:"Store in Cache"}},{id:"5",type:"vizNode",position:{x:900,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"},{id:"e4-5",source:"4",target:"5"},{id:"e2-5",source:"2",target:"5"}]},{id:"example-11",title:"Webhook Handler",description:"Process incoming webhook payloads with validation and signature verification. Implements retry logic for failed webhooks.",tags:["api","http","webhook","validation"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-12",title:"API Pagination Handler",description:"Automatically handle paginated API responses. Fetches all pages and aggregates results.",tags:["api","http","pagination","iteration"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-13",title:"Multi-Step API Workflow",description:"Chain multiple API calls where each step depends on the previous response. Handles data transformation between steps.",tags:["api","http","chaining","transform"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-14",title:"API Error Recovery",description:"Comprehensive error handling for API calls with fallback strategies and graceful degradation.",tags:["api","http","error-handling","fallback"],nodes:[{id:"1",type:"tryCatchNode",position:{x:100,y:100},data:{continue_on_error:!0,label:"Try-Catch"}},{id:"2",type:"httpNode",position:{x:300,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"3",type:"vizNode",position:{x:500,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-15",title:"File Upload via API",description:"Upload files to an API endpoint with multipart/form-data encoding. Includes progress tracking.",tags:["api","http","upload","file"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-16",title:"API Response Validation",description:"Validate API responses against JSON schema. Ensures data integrity and type safety.",tags:["api","http","validation","json"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-17",title:"Bulk API Operations",description:"Perform bulk operations on API resources with batch processing. Implements chunking and rate limiting.",tags:["api","http","bulk","batch"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-18",title:"API Health Check",description:"Monitor API availability and response times. Implements health check pattern with alerting.",tags:["api","http","health-check","monitoring"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-19",title:"API Version Handling",description:"Handle multiple API versions gracefully with version detection and routing logic.",tags:["api","http","versioning","routing"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-20",title:"API Request Queue",description:"Queue API requests for sequential processing. Useful for rate-limited APIs.",tags:["api","http","queue","sequential"],nodes:[{id:"1",type:"httpNode",position:{x:100,y:100},data:{url:"https://api.example.com/data",method:"GET",label:"API Request"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Display Result"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-21",title:"JSON Data Parsing",description:"Parse JSON data from various sources and extract specific fields. Handles nested structures and arrays.",tags:["json","parse","extract","data"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-22",title:"Array Filtering",description:"Filter array elements based on conditions. Supports complex boolean expressions and nested properties.",tags:["array","filter","condition","data"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-23",title:"Data Transformation Pipeline",description:"Transform data through multiple stages including mapping, filtering, and aggregation operations.",tags:["transform","pipeline","data","map"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-24",title:"Data Aggregation",description:"Aggregate data using various operations like sum, average, count, min, and max values.",tags:["aggregate","reduce","data","statistics"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-25",title:"CSV to JSON Converter",description:"Parse CSV data and convert it to JSON format with type inference and validation.",tags:["csv","json","convert","parse"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-26",title:"Data Deduplication",description:"Remove duplicate entries from datasets based on specified fields. Maintains data integrity.",tags:["unique","dedupe","data","filter"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-27",title:"Data Sorting and Ranking",description:"Sort data by multiple fields with custom ordering. Calculate rankings and percentiles.",tags:["sort","rank","data","order"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-28",title:"Data Validation Pipeline",description:"Validate data against rules and schemas. Filters out invalid entries and reports errors.",tags:["validation","filter","data","schema"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-29",title:"Nested Data Flattening",description:"Flatten nested JSON structures into a flat representation for easier processing and analysis.",tags:["flatten","json","transform","data"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-30",title:"Data Enrichment",description:"Enrich data by joining multiple data sources and adding computed fields.",tags:["join","enrich","data","transform"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-31",title:"Time Series Data Processing",description:"Process time series data with windowing, aggregation, and trend analysis.",tags:["time-series","aggregate","data","analysis"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-32",title:"Data Sampling",description:"Sample data using various strategies: random, stratified, or systematic sampling.",tags:["sample","data","statistics","random"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-33",title:"Data Chunking",description:"Split large datasets into smaller chunks for batch processing. Useful for memory management.",tags:["chunk","batch","data","split"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-34",title:"Data Merging",description:"Merge multiple data sources with configurable join strategies (inner, outer, left, right).",tags:["merge","join","data","combine"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-35",title:"Statistical Analysis",description:"Calculate statistical measures including mean, median, mode, standard deviation, and variance.",tags:["statistics","analysis","data","math"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-36",title:"Data Pivot Table",description:"Create pivot tables from raw data with grouping and aggregation capabilities.",tags:["pivot","group","aggregate","data"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-37",title:"Data Cleansing",description:"Clean data by removing nulls, trimming whitespace, and normalizing formats.",tags:["clean","normalize","data","transform"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-38",title:"Complex Data Extraction",description:"Extract data from deeply nested structures using path expressions and queries.",tags:["extract","query","data","nested"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-39",title:"Data Type Conversion",description:"Convert data between different types with validation and error handling.",tags:["convert","type","data","transform"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-40",title:"Batch Data Processing",description:"Process large datasets in batches with progress tracking and error recovery.",tags:["batch","process","data","bulk"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data Input"}},{id:"2",type:"mapNode",position:{x:250,y:100},data:{expression:"item * 2",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-41",title:"Conditional Branching",description:"Route data flow based on conditions. Implements if-then-else logic with multiple branches.",tags:["condition","branching","control-flow","logic"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-42",title:"Switch Case Logic",description:"Implement switch-case pattern with multiple paths based on input value matching.",tags:["switch","case","branching","routing"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-43",title:"For Each Loop",description:"Iterate over arrays and process each element individually. Supports break and continue logic.",tags:["loop","for-each","iteration","array"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-44",title:"While Loop with Condition",description:"Execute operations repeatedly while a condition is true. Includes max iteration safety.",tags:["loop","while","iteration","condition"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-45",title:"Try-Catch Error Handling",description:"Implement error handling with try-catch pattern. Provides fallback values and error recovery.",tags:["error-handling","try-catch","fallback","recovery"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-46",title:"Parallel Execution",description:"Execute multiple operations in parallel for improved performance. Aggregates results.",tags:["parallel","concurrent","performance","async"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-47",title:"Sequential Processing",description:"Process operations sequentially with data passing between steps. Maintains execution order.",tags:["sequential","chain","pipeline","order"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-48",title:"Conditional Retry",description:"Retry operations based on specific error conditions with configurable strategies.",tags:["retry","condition","error-handling","resilience"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-49",title:"Circuit Breaker Pattern",description:"Implement circuit breaker for fault tolerance. Prevents cascading failures.",tags:["circuit-breaker","fault-tolerance","resilience","pattern"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-50",title:"Timeout with Fallback",description:"Execute operations with timeout protection and fallback to default values.",tags:["timeout","fallback","error-handling","resilience"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-51",title:"Rate Limiting Logic",description:"Control execution rate to prevent system overload. Implements token bucket algorithm.",tags:["rate-limit","throttle","control-flow","performance"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-52",title:"Batch Processing with Delay",description:"Process items in batches with configurable delays between batches.",tags:["batch","delay","processing","throttle"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-53",title:"Recursive Processing",description:"Implement recursive data processing with depth limiting and cycle detection.",tags:["recursive","iteration","deep","processing"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-54",title:"Dynamic Routing",description:"Route data dynamically based on runtime conditions and data content.",tags:["routing","dynamic","branching","condition"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-55",title:"Event-Driven Workflow",description:"React to events and trigger appropriate processing flows based on event types.",tags:["event","trigger","reactive","async"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-56",title:"State Machine",description:"Implement state machine pattern for complex state management and transitions.",tags:["state","machine","transition","control-flow"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-57",title:"Saga Pattern",description:"Implement saga pattern for distributed transactions with compensation logic.",tags:["saga","transaction","distributed","pattern"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-58",title:"Fork-Join Pattern",description:"Fork execution into multiple paths and join results at the end.",tags:["fork","join","parallel","merge"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-59",title:"Pipeline with Checkpoints",description:"Execute pipeline with checkpoint saves for recovery and resumption.",tags:["pipeline","checkpoint","recovery","resilience"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-60",title:"Conditional Aggregation",description:"Aggregate data based on dynamic conditions and grouping criteria.",tags:["aggregate","condition","group","data"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:150},data:{value:10,label:"Input"}},{id:"2",type:"conditionNode",position:{x:200,y:150},data:{condition:"> 5",label:"Check Condition"}},{id:"3",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"True Path"}},{id:"4",type:"vizNode",position:{x:400,y:200},data:{mode:"text",label:"False Path"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e2-4",source:"2",target:"4"}]},{id:"example-61",title:"Variable Storage",description:"Store and retrieve variables across workflow execution. Supports global and local scopes.",tags:["variables","state","storage","memory"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-62",title:"Counter Implementation",description:"Implement counter with increment, decrement, and reset operations.",tags:["counter","increment","variables","state"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-63",title:"Accumulator Pattern",description:"Accumulate values using various operations like sum, product, and concatenation.",tags:["accumulator","aggregate","variables","state"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-64",title:"Session State Management",description:"Manage session state across multiple workflow executions with persistence.",tags:["session","state","variables","persistence"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-65",title:"Cache Implementation",description:"Implement caching mechanism with TTL and eviction policies.",tags:["cache","variables","storage","performance"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-66",title:"Variable Interpolation",description:"Interpolate variables into strings and expressions dynamically.",tags:["variables","template","interpolation","string"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-67",title:"Shared State Pattern",description:"Share state between parallel execution branches with proper synchronization.",tags:["shared","state","variables","parallel"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-68",title:"Variable Validation",description:"Validate variable values against constraints and schemas before use.",tags:["variables","validation","schema","check"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-69",title:"Dynamic Configuration",description:"Load and use configuration values dynamically from variables.",tags:["config","variables","dynamic","settings"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-70",title:"Context Propagation",description:"Propagate context variables through nested workflow executions.",tags:["context","variables","propagate","scope"],nodes:[{id:"1",type:"numberNode",position:{x:50,y:100},data:{value:42,label:"Value"}},{id:"2",type:"variableNode",position:{x:250,y:100},data:{var_name:"myVar",var_op:"set",label:"Store"}},{id:"3",type:"variableNode",position:{x:450,y:100},data:{var_name:"myVar",var_op:"get",label:"Retrieve"}},{id:"4",type:"vizNode",position:{x:650,y:100},data:{mode:"text",label:"Display"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}]},{id:"example-71",title:"Text Transformation",description:"Transform text using operations like uppercase, lowercase, trim, and replace.",tags:["text","transform","string","manipulation"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-72",title:"String Concatenation",description:"Concatenate multiple strings with custom delimiters and formatting.",tags:["text","concat","string","join"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-73",title:"Text Pattern Matching",description:"Match text against patterns using regular expressions and extract matches.",tags:["text","regex","pattern","match"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-74",title:"Text Splitting",description:"Split text into parts using delimiters and patterns. Handles edge cases.",tags:["text","split","string","parse"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-75",title:"Text Validation",description:"Validate text against patterns, length constraints, and custom rules.",tags:["text","validation","pattern","check"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-76",title:"Text Formatting",description:"Format text using templates with variable substitution and custom formatters.",tags:["text","format","template","string"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-77",title:"Text Search and Replace",description:"Search for patterns in text and replace with new values. Supports regex.",tags:["text","search","replace","regex"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-78",title:"Text Extraction",description:"Extract specific portions of text using patterns and positional indexing.",tags:["text","extract","substring","parse"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-79",title:"Text Normalization",description:"Normalize text by removing special characters, standardizing case, and trimming.",tags:["text","normalize","clean","transform"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-80",title:"Markdown Processing",description:"Process markdown text and convert to HTML or extract structure.",tags:["text","markdown","parse","convert"],nodes:[{id:"1",type:"textInputNode",position:{x:50,y:100},data:{text:"hello world",label:"Input Text"}},{id:"2",type:"textOpNode",position:{x:250,y:100},data:{text_op:"uppercase",label:"Transform"}},{id:"3",type:"vizNode",position:{x:450,y:100},data:{mode:"text",label:"Result"}}],edges:[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}]},{id:"example-81",title:"Bar Chart Visualization",description:"Create bar charts from data with customizable colors, orientation, and styling.",tags:["visualization","chart","bar","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-82",title:"Data Table Display",description:"Display data in tabular format with sorting, filtering, and pagination.",tags:["visualization","table","display","data"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-83",title:"JSON Viewer",description:"Display JSON data in a formatted, syntax-highlighted viewer with expand/collapse.",tags:["visualization","json","display","viewer"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-84",title:"Dashboard Layout",description:"Create dashboard with multiple visualizations arranged in a grid layout.",tags:["visualization","dashboard","layout","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-85",title:"Real-time Data Display",description:"Display data that updates in real-time with live refresh capabilities.",tags:["visualization","real-time","live","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-86",title:"Summary Statistics",description:"Display summary statistics including counts, averages, and distributions.",tags:["visualization","statistics","summary","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-87",title:"Comparison View",description:"Compare multiple datasets side-by-side with highlighting of differences.",tags:["visualization","compare","diff","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-88",title:"Timeline Visualization",description:"Visualize time-based data on an interactive timeline with zoom capabilities.",tags:["visualization","timeline","time","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-89",title:"Hierarchical Data View",description:"Display hierarchical data in tree or nested structure format.",tags:["visualization","tree","hierarchy","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-90",title:"Progress Indicator",description:"Show progress of long-running operations with percentage and status.",tags:["visualization","progress","status","display"],nodes:[{id:"1",type:"rangeNode",position:{x:50,y:100},data:{start:1,end:10,step:1,label:"Data"}},{id:"2",type:"barChartNode",position:{x:300,y:100},data:{orientation:"vertical",bar_color:"#3b82f6",show_values:!0,label:"Chart"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-91",title:"Database Query",description:"Execute database queries and process results. Supports parameterized queries.",tags:["database","query","sql","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-92",title:"Email Notification",description:"Send email notifications with templates, attachments, and HTML formatting.",tags:["email","notification","smtp","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-93",title:"Slack Integration",description:"Send messages to Slack channels with rich formatting and attachments.",tags:["slack","chat","notification","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-94",title:"File System Operations",description:"Read, write, and manipulate files on the file system with error handling.",tags:["file","io","storage","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-95",title:"Cloud Storage Upload",description:"Upload files to cloud storage services like S3, Azure Blob, or GCS.",tags:["cloud","storage","upload","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-96",title:"Message Queue Publisher",description:"Publish messages to message queues like RabbitMQ, Kafka, or SQS.",tags:["queue","message","publish","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-97",title:"SMS Notification",description:"Send SMS notifications using Twilio or similar services.",tags:["sms","notification","twilio","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-98",title:"Payment Processing",description:"Process payments using Stripe, PayPal, or similar payment gateways.",tags:["payment","stripe","transaction","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-99",title:"Analytics Tracking",description:"Track events and metrics to analytics platforms like Google Analytics.",tags:["analytics","tracking","metrics","integration"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-100",title:"External API Integration",description:"Integrate with third-party APIs with authentication and error handling.",tags:["api","integration","external","third-party"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-101",title:"MapReduce Pattern",description:"Implement MapReduce pattern for distributed data processing at scale.",tags:["mapreduce","distributed","pattern","data"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-102",title:"Stream Processing",description:"Process data streams in real-time with windowing and aggregation.",tags:["stream","real-time","processing","async"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-103",title:"ETL Pipeline",description:"Extract, Transform, Load pipeline for data warehousing and analytics.",tags:["etl","pipeline","data","warehouse"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-104",title:"Event Sourcing",description:"Implement event sourcing pattern for audit trails and state reconstruction.",tags:["event","sourcing","audit","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-105",title:"CQRS Pattern",description:"Separate read and write operations using Command Query Responsibility Segregation.",tags:["cqrs","pattern","architecture","separation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-106",title:"Bulkhead Pattern",description:"Isolate resources to prevent cascading failures using bulkhead pattern.",tags:["bulkhead","isolation","resilience","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-107",title:"Cache-Aside Pattern",description:"Implement cache-aside pattern for optimized data access and caching.",tags:["cache","pattern","performance","data"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-108",title:"Strangler Fig Pattern",description:"Gradually migrate from legacy systems using strangler fig pattern.",tags:["migration","legacy","pattern","gradual"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-109",title:"Scatter-Gather Pattern",description:"Send requests to multiple services and aggregate responses.",tags:["scatter","gather","parallel","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-110",title:"Publish-Subscribe Pattern",description:"Implement pub-sub pattern for event-driven communication.",tags:["pubsub","event","pattern","messaging"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-111",title:"Request-Response Pattern",description:"Implement synchronous request-response communication pattern.",tags:["request","response","sync","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-112",title:"Polling Consumer",description:"Poll for messages or events at regular intervals with backoff.",tags:["polling","consumer","pattern","async"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-113",title:"Competing Consumers",description:"Multiple consumers compete for messages from a shared queue.",tags:["consumer","queue","concurrent","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-114",title:"Priority Queue",description:"Process messages based on priority levels with queue management.",tags:["queue","priority","pattern","ordering"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-115",title:"Dead Letter Queue",description:"Handle failed messages using dead letter queue pattern.",tags:["dlq","error","queue","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-116",title:"Idempotent Consumer",description:"Ensure operations can be safely retried without side effects.",tags:["idempotent","retry","pattern","safety"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-117",title:"Compensation Transaction",description:"Implement compensating transactions for rollback in distributed systems.",tags:["compensation","transaction","rollback","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-118",title:"Two-Phase Commit",description:"Implement two-phase commit protocol for distributed transactions.",tags:["2pc","transaction","distributed","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-119",title:"Leader Election",description:"Implement leader election for distributed coordination.",tags:["leader","election","distributed","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-120",title:"Sharding Strategy",description:"Distribute data across multiple nodes using sharding.",tags:["sharding","distributed","partition","pattern"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-121",title:"Unit Test Workflow",description:"Create unit tests for workflow components with assertions and mocking.",tags:["testing","unit","validation","qa"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-122",title:"Integration Test",description:"Test integration between multiple components and external services.",tags:["testing","integration","e2e","qa"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-123",title:"Load Testing",description:"Perform load testing to measure performance under heavy traffic.",tags:["testing","load","performance","stress"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-124",title:"Data Validation Test",description:"Validate data quality and integrity with comprehensive checks.",tags:["testing","validation","data","quality"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-125",title:"Mock Service Responses",description:"Mock external service responses for testing purposes.",tags:["testing","mock","stub","qa"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-126",title:"Chaos Engineering",description:"Test system resilience by introducing controlled failures.",tags:["testing","chaos","resilience","failure"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-127",title:"Smoke Test",description:"Quick smoke tests to verify basic functionality after deployment.",tags:["testing","smoke","deployment","qa"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-128",title:"Regression Test Suite",description:"Comprehensive regression tests to catch breaking changes.",tags:["testing","regression","qa","validation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-129",title:"Performance Benchmark",description:"Benchmark performance metrics for optimization analysis.",tags:["testing","benchmark","performance","metrics"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-130",title:"Security Testing",description:"Test for common security vulnerabilities and exploits.",tags:["testing","security","vulnerability","qa"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-131",title:"Health Check Monitor",description:"Monitor system health with periodic checks and alerting.",tags:["monitoring","health","alert","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-132",title:"Performance Metrics",description:"Collect and analyze performance metrics like latency and throughput.",tags:["monitoring","metrics","performance","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-133",title:"Error Tracking",description:"Track and analyze errors with stack traces and context.",tags:["monitoring","error","logging","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-134",title:"Resource Utilization",description:"Monitor CPU, memory, and network utilization metrics.",tags:["monitoring","resources","utilization","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-135",title:"SLA Monitoring",description:"Monitor service level agreements and generate compliance reports.",tags:["monitoring","sla","compliance","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-136",title:"Custom Metrics Collection",description:"Collect custom business metrics for analytics and reporting.",tags:["monitoring","metrics","custom","analytics"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-137",title:"Alert Rules Engine",description:"Define and execute alert rules based on metric thresholds.",tags:["monitoring","alert","rules","notification"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-138",title:"Log Aggregation",description:"Aggregate logs from multiple sources for centralized analysis.",tags:["monitoring","logging","aggregate","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-139",title:"Trace Collection",description:"Collect distributed traces for request flow analysis.",tags:["monitoring","trace","distributed","observability"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-140",title:"Dashboard Metrics",description:"Display key metrics on a dashboard for real-time monitoring.",tags:["monitoring","dashboard","metrics","visualization"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-141",title:"Cron Job Workflow",description:"Execute workflows on a schedule using cron expressions.",tags:["scheduling","cron","automation","periodic"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-142",title:"Delayed Execution",description:"Delay execution by a specified duration before processing.",tags:["scheduling","delay","timeout","timing"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-143",title:"Time-Based Trigger",description:"Trigger workflows at specific times or dates.",tags:["scheduling","trigger","time","automation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-144",title:"Recurring Tasks",description:"Execute tasks repeatedly at configured intervals.",tags:["scheduling","recurring","periodic","automation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-145",title:"Batch Job Scheduling",description:"Schedule batch jobs for off-peak hours with dependencies.",tags:["scheduling","batch","job","automation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-146",title:"Event-Driven Scheduling",description:"Schedule workflows based on external events and triggers.",tags:["scheduling","event","trigger","reactive"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-147",title:"Dynamic Scheduling",description:"Dynamically calculate and schedule execution based on conditions.",tags:["scheduling","dynamic","conditional","automation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-148",title:"Priority-Based Scheduling",description:"Schedule tasks based on priority levels and resource availability.",tags:["scheduling","priority","queue","ordering"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-149",title:"Deadline-Aware Scheduling",description:"Schedule tasks with deadlines and SLA constraints.",tags:["scheduling","deadline","sla","constraint"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]},{id:"example-150",title:"Workflow Orchestration",description:"Orchestrate complex workflows with dependencies and timing.",tags:["scheduling","orchestration","workflow","automation"],nodes:[{id:"1",type:"textInputNode",position:{x:100,y:100},data:{text:"Input",label:"Input"}},{id:"2",type:"vizNode",position:{x:400,y:100},data:{mode:"text",label:"Output"}}],edges:[{id:"e1-2",source:"1",target:"2"}]}];function iU({isOpen:e,onClose:t,onSelect:a}){let[n,o]=(0,y.useState)(""),[i,r]=(0,y.useState)([]),s=(0,y.useMemo)(()=>iX.filter(e=>{let t=n.toLowerCase(),a=!n||e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)),o=0===i.length||i.every(t=>e.tags.includes(t));return a&&o}),[n,i]),l=e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return e?(0,x.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden",children:[(0,x.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between bg-gray-800/50",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("span",{className:"text-2xl",children:""}),(0,x.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Workflow Examples Library"})]}),(0,x.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded-lg transition-colors","aria-label":"Close modal",children:""})]}),(0,x.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700 bg-gray-800/30",children:[(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)("input",{type:"text",placeholder:"Search examples by title, description, or tags...",value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,x.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,x.jsx)("span",{className:"text-sm text-gray-400 mr-2",children:"Popular tags:"}),["api","http","json","data","branching","variables","error-handling","performance"].map(e=>(0,x.jsx)("button",{onClick:()=>l(e),className:`px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${i.includes(e)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e},e)),(n||i.length>0)&&(0,x.jsx)("button",{onClick:()=>{o(""),r([])},className:"px-2.5 py-1 rounded-full text-xs font-medium bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors ml-2",children:"Clear filters"})]})]}),(0,x.jsxs)("div",{className:"px-6 py-2 bg-gray-800/20 text-sm text-gray-400",children:["Showing ",s.length," of ",iX.length," examples",i.length>0&&(0,x.jsxs)("span",{className:"ml-2",children:["(filtered by:"," ",i.map(e=>(0,x.jsxs)("span",{className:"inline-flex items-center gap-1 ml-1 px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded",children:[e,(0,x.jsx)("button",{onClick:()=>l(e),className:"hover:text-blue-300",children:""})]},e)),")"]})]}),(0,x.jsx)("div",{className:"flex-1 overflow-auto p-6 custom-scrollbar",children:0===s.length?(0,x.jsxs)("div",{className:"text-center py-12",children:[(0,x.jsx)("div",{className:"text-6xl mb-4 opacity-50",children:""}),(0,x.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No examples found"}),(0,x.jsx)("p",{className:"text-gray-600 text-sm",children:"Try adjusting your search or filters"})]}):(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,x.jsxs)("div",{onClick:()=>{a(e),t()},className:"group p-4 bg-gray-800 hover:bg-gray-750 border border-gray-700 hover:border-blue-600/50 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:shadow-blue-900/20",children:[(0,x.jsx)("h3",{className:"text-white font-medium mb-2 truncate group-hover:text-blue-400 transition-colors",children:e.title}),(0,x.jsx)("p",{className:"text-gray-400 text-sm mb-3 line-clamp-3",children:e.description}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[e.tags.slice(0,4).map(e=>(0,x.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${i.includes(e)?"bg-blue-600/30 text-blue-300":"bg-gray-700 text-gray-400"}`,children:e},e)),e.tags.length>4&&(0,x.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-700 text-gray-400",children:["+",e.tags.length-4]})]})]},e.id))})}),(0,x.jsxs)("div",{className:"px-6 py-3 border-t border-gray-700 bg-gray-800/50 flex items-center justify-between text-xs text-gray-500",children:[(0,x.jsxs)("span",{children:[s.length," example",1!==s.length?"s":""," available"]}),(0,x.jsx)("span",{children:"Click a card to load  Press ESC to close"})]})]})}):null}var iW=e.i(18566);let iY=(e,t,a)=>{let n=n=>(0,x.jsx)(e,{...n,onShowOptions:(e,a)=>{t(n.id,e,a)},onOpenInfo:()=>{a()}});return n.displayName=`withContextMenu(${e.displayName||e.name||"Component"})`,n};function iZ({id:e,data:t,onShowOptions:a,onOpenInfo:n}){let{setNodes:o}=nO(),i=o7.numberNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Number"),nodeInfo:i,onShowOptions:a,onTitleChange:t=>{o(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},onOpenInfo:n,children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsx)("input",{value:"number"==typeof t?.value?t.value:0,type:"number",onChange:t=>{let a=Number(t.target.value);o(t=>t.map(t=>t.id===e?{...t,data:{...t.data,value:a}}:t))},className:"w-24 text-xs border border-gray-600 px-1.5 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none"}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iG({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.opNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Operation"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("select",{value:"string"==typeof t?.op?t.op:"add",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,op:a}}:t))},className:"w-24 text-xs border border-gray-600 px-1.5 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"add",children:"Add"}),(0,x.jsx)("option",{value:"subtract",children:"Subtract"}),(0,x.jsx)("option",{value:"multiply",children:"Multiply"}),(0,x.jsx)("option",{value:"divide",children:"Divide"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}function iK({id:e,data:t,onShowOptions:a}){let{setNodes:n}=nO(),o=o7.vizNode;return(0,x.jsxs)(o6,{title:String(t?.label||"Visualization"),nodeInfo:o,onShowOptions:a,onTitleChange:t=>{n(a=>a.map(a=>a.id===e?{...a,data:{...a.data,label:t}}:a))},children:[(0,x.jsx)(nt,{type:"target",position:h.Left,className:"w-2 h-2 bg-blue-400"}),(0,x.jsxs)("select",{value:"string"==typeof t?.mode?t.mode:"text",onChange:t=>{let a=t.target.value;n(t=>t.map(t=>t.id===e?{...t,data:{...t.data,mode:a}}:t))},className:"w-24 text-xs border border-gray-600 px-1.5 py-0.5 rounded bg-gray-900 text-white focus:ring-1 focus:ring-blue-400 focus:outline-none",children:[(0,x.jsx)("option",{value:"text",children:"Text"}),(0,x.jsx)("option",{value:"table",children:"Table"})]}),(0,x.jsx)(nt,{type:"source",position:h.Right,className:"w-2 h-2 bg-green-400"})]})}let iJ=[{id:"1",position:{x:50,y:50},data:{value:10,label:"Node 1"},type:"numberNode"},{id:"2",position:{x:50,y:200},data:{value:5,label:"Node 2"},type:"numberNode"},{id:"3",position:{x:300,y:120},data:{op:"add",label:"Node 3 (op)"},type:"opNode"},{id:"4",position:{x:600,y:120},data:{mode:"text",label:"Node 4 (viz)"},type:"vizNode"}],iQ=[{id:"e1-3",source:"1",target:"3"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"}],i0=[{name:"Input/Output",nodes:[{type:"numberNode",label:"Number",color:"bg-blue-600",defaultData:{value:0}},{type:"textInputNode",label:"Text Input",color:"bg-green-600",defaultData:{text:""}},{type:"httpNode",label:"HTTP",color:"bg-purple-600",defaultData:{url:""}},{type:"vizNode",label:"Visualization",color:"bg-indigo-600",defaultData:{mode:"text"}},{type:"barChartNode",label:"Bar Chart",color:"bg-violet-600",defaultData:{orientation:"vertical",bar_color:"#3b82f6",bar_width:"medium",show_values:!0,max_bars:20}}]},{name:"Operations",nodes:[{type:"opNode",label:"Math Op",color:"bg-yellow-600",defaultData:{op:"add"}},{type:"textOpNode",label:"Text Op",color:"bg-green-600",defaultData:{text_op:"uppercase"}},{type:"transformNode",label:"Transform",color:"bg-cyan-600",defaultData:{transform_type:"to_array"}},{type:"parseNode",label:"Parse",color:"bg-purple-600",defaultData:{input_type:"AUTO"}},{type:"extractNode",label:"Extract",color:"bg-teal-600",defaultData:{field:""}}]},{name:"Control Flow",nodes:[{type:"conditionNode",label:"Condition",color:"bg-amber-600",defaultData:{condition:">0"}},{type:"filterNode",label:"Filter",color:"bg-purple-600",defaultData:{condition:"item.age > 0"}},{type:"forEachNode",label:"For Each",color:"bg-orange-600",defaultData:{max_iterations:1e3}},{type:"whileLoopNode",label:"While Loop",color:"bg-red-600",defaultData:{condition:">0",max_iterations:100}},{type:"switchNode",label:"Switch",color:"bg-pink-600",defaultData:{cases:[],default_path:"default"}}]},{name:"Parallel & Join",nodes:[{type:"parallelNode",label:"Parallel",color:"bg-violet-600",defaultData:{max_concurrency:10}},{type:"joinNode",label:"Join",color:"bg-fuchsia-600",defaultData:{join_strategy:"all"}},{type:"splitNode",label:"Split",color:"bg-rose-600",defaultData:{paths:["path1","path2"]}}]},{name:"State & Memory",nodes:[{type:"variableNode",label:"Variable",color:"bg-sky-600",defaultData:{var_name:"",var_op:"get"}},{type:"accumulatorNode",label:"Accumulator",color:"bg-blue-500",defaultData:{accum_op:"sum"}},{type:"counterNode",label:"Counter",color:"bg-indigo-500",defaultData:{counter_op:"increment",delta:1}},{type:"cacheNode",label:"Cache",color:"bg-purple-500",defaultData:{cache_op:"get",cache_key:""}}]},{name:"Error Handling",nodes:[{type:"retryNode",label:"Retry",color:"bg-red-500",defaultData:{max_attempts:3,backoff_strategy:"exponential",initial_delay:"1s"}},{type:"tryCatchNode",label:"Try-Catch",color:"bg-orange-500",defaultData:{continue_on_error:!0}},{type:"timeoutNode",label:"Timeout",color:"bg-amber-500",defaultData:{timeout:"30s",timeout_action:"error"}}]},{name:"Utilities",nodes:[{type:"delayNode",label:"Delay",color:"bg-gray-500",defaultData:{duration:"1s"}}]},{name:"Array Operations",nodes:[{type:"mapNode",label:"Map",color:"bg-cyan-600",defaultData:{expression:"item * 2"}},{type:"reduceNode",label:"Reduce",color:"bg-teal-600",defaultData:{expression:"acc + item",initial_value:"0"}},{type:"sliceNode",label:"Slice",color:"bg-emerald-600",defaultData:{start:0,end:-1}},{type:"sortNode",label:"Sort",color:"bg-lime-600",defaultData:{field:"",order:"asc"}},{type:"findNode",label:"Find",color:"bg-sky-600",defaultData:{expression:"item.id == 1"}},{type:"flatMapNode",label:"FlatMap",color:"bg-indigo-600",defaultData:{expression:"item.values"}},{type:"groupByNode",label:"Group By",color:"bg-violet-600",defaultData:{key_field:"category"}},{type:"uniqueNode",label:"Unique",color:"bg-fuchsia-600",defaultData:{by_field:""}},{type:"chunkNode",label:"Chunk",color:"bg-pink-600",defaultData:{size:3}},{type:"reverseNode",label:"Reverse",color:"bg-rose-600",defaultData:{}},{type:"partitionNode",label:"Partition",color:"bg-orange-600",defaultData:{expression:"item > 0"}},{type:"zipNode",label:"Zip",color:"bg-yellow-600",defaultData:{}},{type:"sampleNode",label:"Sample",color:"bg-blue-600",defaultData:{count:1}},{type:"rangeNode",label:"Range",color:"bg-green-600",defaultData:{start:0,end:10,step:1}},{type:"transposeNode",label:"Transpose",color:"bg-red-600",defaultData:{}}]}];function i1(){let e=(0,iW.useRouter)(),[t,a,n]=oZ(iJ),[o,i,r]=oG(iQ),[s,l]=(0,y.useState)(!1),[d,u]=(0,y.useState)(!1),[c,p]=(0,y.useState)(!1),[g,h]=(0,y.useState)("Untitled Workflow"),[m,f]=(0,y.useState)(null),[b,v]=(0,y.useState)(null),{project:w,getNodes:N}=nO(),S=(0,y.useCallback)(e=>i(t=>aU(e,t)),[i]),C=(0,y.useCallback)((e,t,a)=>{f({x:t,y:a,nodeId:e})},[]),_=(0,y.useMemo)(()=>({nodes:t.map(e=>({id:e.id,type:e.type,data:e.data,position:e.position})),edges:o.map(e=>({id:e.id,source:e.source,target:e.target}))}),[t,o]),j=(0,y.useMemo)(()=>({numberNode:iY(iZ,C,()=>u(!1)),opNode:iY(iG,C,()=>u(!1)),vizNode:iY(iK,C,()=>u(!1)),barChartNode:iY(io,C,()=>u(!1)),textInputNode:iY(o8,C,()=>u(!1)),textOpNode:iY(o9,C,()=>u(!1)),httpNode:iY(ie,C,()=>u(!1)),conditionNode:iY(it,C,()=>u(!1)),filterNode:iY(ia,C,()=>u(!1)),forEachNode:iY(ii,C,()=>u(!1)),whileLoopNode:iY(ir,C,()=>u(!1)),variableNode:iY(is,C,()=>u(!1)),extractNode:iY(il,C,()=>u(!1)),transformNode:iY(id,C,()=>u(!1)),parseNode:iY(iu,C,()=>u(!1)),accumulatorNode:iY(ic,C,()=>u(!1)),counterNode:iY(ip,C,()=>u(!1)),switchNode:iY(ig,C,()=>u(!1)),parallelNode:iY(ih,C,()=>u(!1)),joinNode:iY(im,C,()=>u(!1)),splitNode:iY(ix,C,()=>u(!1)),delayNode:iY(iy,C,()=>u(!1)),cacheNode:iY(ib,C,()=>u(!1)),retryNode:iY(iv,C,()=>u(!1)),tryCatchNode:iY(iw,C,()=>u(!1)),timeoutNode:iY(iN,C,()=>u(!1)),mapNode:iY(iS,C,()=>u(!1)),reduceNode:iY(iC,C,()=>u(!1)),sliceNode:iY(i_,C,()=>u(!1)),sortNode:iY(ij,C,()=>u(!1)),findNode:iY(ik,C,()=>u(!1)),flatMapNode:iY(iI,C,()=>u(!1)),groupByNode:iY(iE,C,()=>u(!1)),uniqueNode:iY(iM,C,()=>u(!1)),chunkNode:iY(iz,C,()=>u(!1)),reverseNode:iY(iR,C,()=>u(!1)),partitionNode:iY(iA,C,()=>u(!1)),zipNode:iY(iT,C,()=>u(!1)),sampleNode:iY(iP,C,()=>u(!1)),rangeNode:iY(iO,C,()=>u(!1)),transposeNode:iY(iD,C,()=>u(!1))}),[C]),[k,I]=(0,y.useState)(5);return(0,x.jsxs)("div",{className:"h-screen flex flex-col bg-gray-950",children:[(0,x.jsx)(iB.AppNavBar,{onNewWorkflow:()=>{e.push("/")},onOpenWorkflow:()=>{p(!0)}}),(0,x.jsx)(iV,{workflowTitle:g,onTitleChange:h,onSave:()=>{console.log("Save workflow",_)},onShowJSON:()=>l(!0),onDelete:()=>{},onRun:()=>{console.log("Run workflow",_)},onExport:()=>{let e=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t;let n=g.replace(/[^a-z0-9]/gi,"_").toLowerCase();a.download=`${n}_workflow.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},onImport:e=>{let t=e.nodes,n=e.edges;a(t.map((e,t)=>({...e,position:e.position||{x:50+200*t,y:50+100*t}}))),i(n),I(t.reduce((e,t)=>{let a=parseInt(t.id,10);return isNaN(a)?e:Math.max(e,a)},0)+1)}}),(0,x.jsxs)("div",{className:"flex-1 relative",children:[!d&&(0,x.jsxs)("button",{onClick:()=>u(!0),className:"absolute left-4 bottom-4 z-10 bg-gray-800 hover:bg-gray-700 text-white px-3 py-1.5 rounded-lg shadow-lg transition-all border border-gray-700 hover:border-gray-600 text-sm font-medium flex items-center gap-1.5",title:"Add Node",children:[(0,x.jsx)("span",{className:"text-base",children:"+"}),(0,x.jsx)("span",{children:"Add Node"})]}),(0,x.jsx)(iF,{isOpen:d,onClose:()=>u(!1),categories:i0,onAddNode:(e,t)=>{let n=String(k);I(e=>e+1);let o=window.innerWidth,i=window.innerHeight-112,r=(e=>{let t=N(),a={...e},n=0;for(;n<50&&t.some(e=>{let t=Math.abs(e.position.x-a.x),n=Math.abs(e.position.y-a.y);return t<170&&n<100});)a={x:e.x+30*n,y:e.y+n%5*25},n++;return a})(w?w({x:o/2-75,y:i/2}):{x:400,y:200}),s={...t,label:`${e} ${n}`},l={id:n,position:r,data:s,type:e};a(e=>e.concat(l))}}),(0,x.jsx)(oW,{nodes:t,edges:o,onNodesChange:n,onEdgesChange:r,onConnect:S,nodeTypes:j,fitView:!0,className:"bg-gray-950"}),(0,x.jsx)(iq,{isOpen:s,onClose:()=>l(!1),payload:_,workflowTitle:g}),(0,x.jsx)(iU,{isOpen:c,onClose:()=>p(!1),onSelect:e=>{let t=e.nodes,n=e.edges;a(t.map((e,t)=>({...e,position:e.position||{x:50+200*t,y:50+100*t}}))),i(n),h(e.title),I(t.reduce((e,t)=>{let a=parseInt(String(t.id),10);return isNaN(a)?e:Math.max(e,a)},0)+1)}})]}),m&&(0,x.jsx)(iL,{x:m.x,y:m.y,onClose:()=>f(null),onDelete:()=>{var e;let a;return e=m.nodeId,void((a=t.find(t=>t.id===e))&&v({nodeId:e,nodeName:String(a.data?.label||`Node ${e}`)}),f(null))}}),b&&(0,x.jsx)(i$,{nodeName:b.nodeName,onConfirm:()=>{b&&(a(e=>e.filter(e=>e.id!==b.nodeId)),i(e=>e.filter(e=>e.source!==b.nodeId&&e.target!==b.nodeId))),v(null)},onCancel:()=>v(null)}),(0,x.jsx)(iH,{nodeCount:t.length,edgeCount:o.length})]})}function i2(){return(0,x.jsx)(o$,{children:(0,x.jsx)(i1,{})})}e.s(["default",()=>i2],2646)}]);